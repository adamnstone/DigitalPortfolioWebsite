
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../panopticom/">
      
      
        <link rel="next" href="../test-generator/">
      
      
      <link rel="icon" href="../../assets/images/favicon/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Bridge Builder - Adam Stone Digital Portfoio</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-Z0ZXQ8VL5C"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-Z0ZXQ8VL5C",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-Z0ZXQ8VL5C",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#bridge-builder" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Adam Stone Digital Portfoio" class="md-header__button md-logo" aria-label="Adam Stone Digital Portfoio" data-md-component="logo">
      
  <img src="../../assets/images/favicon/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Adam Stone Digital Portfoio
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Bridge Builder
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/adamnstone/DigitalPortfolioWebsite" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    adamnstone/DigitalPortfolioWebsite
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../about/" class="md-tabs__link">
        
  
    
  
  About

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
    
  
  STEM

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../arts/" class="md-tabs__link">
          
  
    
  
  Arts

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../advocacy/" class="md-tabs__link">
          
  
    
  
  Advocacy

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Adam Stone Digital Portfoio" class="md-nav__button md-logo" aria-label="Adam Stone Digital Portfoio" data-md-component="logo">
      
  <img src="../../assets/images/favicon/logo.png" alt="logo">

    </a>
    Adam Stone Digital Portfoio
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/adamnstone/DigitalPortfolioWebsite" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    adamnstone/DigitalPortfolioWebsite
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    STEM
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            STEM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../expert-network-map/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Expert Network Map
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Expert Network Map
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../disability-forewarning-system/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Disability Forewarning System
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Disability Forewarning System
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../disability-forewarning-system/final-project-planning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Planning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../disability-forewarning-system/cupholder-mechanism/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cupholder Mechanism
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../disability-forewarning-system/cupholder-electronics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cupholder Electronics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../disability-forewarning-system/display-mechanics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Display Mechanism
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../disability-forewarning-system/display-electronics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Display Electronics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../disability-forewarning-system/motor-calculations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Motor Calculations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../disability-forewarning-system/wireless-communication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wireless Communication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../disability-forewarning-system/combining-electronics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Combining Electronics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../disability-forewarning-system/project-requirements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project Summary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../disability-forewarning-system/project-reflection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Final Project: Reflection
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../fab-academy/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Fab Academy
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Fab Academy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../panopticom/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Panopticom
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Panopticom
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="./" class="md-nav__link md-nav__link--active">
              
  
  <span class="md-ellipsis">
    Bridge Builder
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Bridge Builder
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../test-generator/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Generator
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            Test Generator
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../arts/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Arts
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Arts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../advocacy/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Advocacy
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Advocacy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Documentation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Documentation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-the-genetic-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      Running the Genetic Algorithm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-the-shape" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring the Shape
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuring the Shape">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#storing-maximum-member-loads" class="md-nav__link">
    <span class="md-ellipsis">
      Storing Maximum Member Loads
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bridge-utilities" class="md-nav__link">
    <span class="md-ellipsis">
      Bridge Utilities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bridge-settings" class="md-nav__link">
    <span class="md-ellipsis">
      Bridge Settings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bridge-class" class="md-nav__link">
    <span class="md-ellipsis">
      Bridge Class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-text" class="md-nav__link">
    <span class="md-ellipsis">
      Read Text
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#record-screen-position" class="md-nav__link">
    <span class="md-ellipsis">
      Record Screen Position
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<div><h1 id="bridge-builder">Bridge Builder</h1>
<p>In my Civil Engineering class, students were tasked with determining the optimal size, shape, and material for each beam of a bridge to yield the most cost-effective design capable of sustaining <code>225kN</code> of force. The class was instructed to input specifications for each beam into the West Point Bridge Designer software which calculated the cost and strength of each design. </p>
<p>Through trial and error, I arrived at a bridge that sustained the required weight at a relatively low cost. However, I wanted to see whether I could automate the process to test hundreds of thousands of permutations of the three inputs for each beam to come up with a more optimal design. I wrote a Python script to mimic a user entering the three parameters for each beam. Unfortunately, the input process for <a href="https://bridgedesigner.org/download/">West Point Bridge Designer</a> software involved multiple drop down menus and animations which significantly slowed the simulation time, making this approach impractical. In order to come up with a more efficient approach, I examined <a href="https://sourceforge.net/p/wpbdc/wpbd/ci/master/tree/">West Point Bridge Designer’s open-source code</a>, written in Java, to understand how it was calculating the forces for the simulation. </p>
<p>To circumvent the cumbersome user interface, I coded a more focused bridge simulator without a user interface or animations. I also implemented a genetic algorithm to test many different designs and find the lowest-cost bridge that held the required weight. As the simulator ran, it drove continuous improvements in bridge design and reductions in price.</p>
<p>Here's a sample bridge generated by the program after trying 600,000 designs:</p>
<p><img alt="Bridge Result" src="../../assets/images/stem/bridge-designer/bridge-result.jpg"></p>
<p><img alt="Bridge Graph" src="../../assets/images/stem/bridge-designer/bridge-designer-graph.jpg"></p>
<p><a href="../../assets/zips/bridge-designer/bridge-designer-result.zip">Download the Bridge File here!</a></p>
<h2 id="documentation">Documentation</h2>
<p>There are two steps in running the simulation: <a href="#running-the-genetic-algorithm">running the genetic algorithm</a> and <a href="#configuring-the-shape">configuring the shape</a>.</p>
<p><a href="../../assets/zips/bridge-designer/bridge-designer-code.zip">Download all of the code for the project here!</a></p>
<h3 id="running-the-genetic-algorithm">Running the Genetic Algorithm</h3>
<p><code>main.py</code> is responsible for running the genetic algorithm. The <code>NUM_GENS</code> variable defines for how many generations the simulation will run, and the <code>POP_SIZE</code> variable defines how many bridges will exist in the population of each generation. The script uses <a href="https://matplotlib.org/"><code>Matplotlib</code></a> to graph the price of bridges versus the generation number.</p>
<p>The main loop exists in the <code>run_evo_sim</code> function. It initializes the population, then for each generation, evaluates the fitness of each bridge, removes the bottom 50%, creates offspring from the remaining bridges, mutates bridges randomly, and repeats. I found that looping through the number of bridge members mutated for each bridge in a popuation (i.e. the first bridge mutates one member, the second bridge mutates two members) helped avoid local maximums and continually improve performance even many generations into the simulation. </p>
<p><em>main.py</em></p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">import</span> <span class="nn">random</span><span class="o">,</span> <span class="nn">time</span><span class="o">,</span> <span class="nn">pickle</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">bridge_utilities</span> <span class="kn">import</span> <span class="n">calculate_score</span><span class="p">,</span> <span class="n">MATERIALS</span><span class="p">,</span> <span class="n">SIZES</span><span class="p">,</span> <span class="n">TYPES</span><span class="p">,</span> <span class="n">get_price</span><span class="p">,</span> <span class="n">enact_bridge</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">matplt</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="kn">from</span> <span class="nn">bridge_settings</span> <span class="kn">import</span> <span class="n">CURRENT_SETTING</span><span class="p">,</span> <span class="n">INITIALIZED_BRIDGE</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="c1"># Function to initialize a population</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="k">def</span> <span class="nf">initialize_population</span><span class="p">(</span><span class="n">population_size</span><span class="p">):</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    <span class="n">population</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">population_size</span><span class="p">):</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>        <span class="k">if</span> <span class="n">INITIALIZED_BRIDGE</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>            <span class="n">bridge</span> <span class="o">=</span> <span class="p">[(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">MATERIALS</span><span class="p">),</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">TYPES</span><span class="p">),</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">SIZES</span><span class="p">[</span><span class="mi">14</span><span class="p">:]))</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">CURRENT_SETTING</span><span class="p">[</span><span class="s1">'num_members'</span><span class="p">])]</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>            <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">INITIALIZED_BRIDGE</span><span class="p">)</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>            <span class="n">bridge</span><span class="o">=</span><span class="p">[(</span><span class="n">r</span><span class="p">[</span><span class="s1">'Member ID'</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="s1">'Material Type'</span><span class="p">],</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">SIZES</span> <span class="k">if</span> <span class="n">r</span><span class="p">[</span><span class="s1">'Type'</span><span class="p">]</span><span class="o">==</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">_</span><span class="p">]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">CURRENT_SETTING</span><span class="p">[</span><span class="s1">'num_members'</span><span class="p">])]]</span> 
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>        <span class="n">population</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bridge</span><span class="p">)</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>    <span class="k">return</span> <span class="n">population</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="n">bridge_mutation_counter</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="c1"># Function to mutate a bridge</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="k">def</span> <span class="nf">mutate</span><span class="p">(</span><span class="n">bridge</span><span class="p">):</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>    <span class="k">global</span> <span class="n">bridge_mutation_counter</span>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>    <span class="n">mutated_bridge</span> <span class="o">=</span> <span class="n">bridge</span><span class="p">[:]</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>    <span class="n">first</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>    <span class="n">r</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">bridge_mutation_counter</span> <span class="o">%</span> <span class="mi">30</span><span class="p">:</span>
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>        <span class="n">first</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>        <span class="n">member_to_mutate</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">CURRENT_SETTING</span><span class="p">[</span><span class="s1">'num_members'</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a>        <span class="n">attribute_to_mutate</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s2">"material"</span><span class="p">,</span> <span class="s2">"type"</span><span class="p">,</span> <span class="s2">"size"</span><span class="p">])</span>
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>        <span class="k">if</span> <span class="n">attribute_to_mutate</span> <span class="o">==</span> <span class="s2">"material"</span><span class="p">:</span>
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a>            <span class="n">mutated_bridge</span><span class="p">[</span><span class="n">member_to_mutate</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">MATERIALS</span><span class="p">),</span> <span class="n">bridge</span><span class="p">[</span><span class="n">member_to_mutate</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">bridge</span><span class="p">[</span><span class="n">member_to_mutate</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a>        <span class="k">elif</span> <span class="n">attribute_to_mutate</span> <span class="o">==</span> <span class="s2">"type"</span><span class="p">:</span>
</span><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a>            <span class="n">mutated_bridge</span><span class="p">[</span><span class="n">member_to_mutate</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">bridge</span><span class="p">[</span><span class="n">member_to_mutate</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">TYPES</span><span class="p">),</span> <span class="n">bridge</span><span class="p">[</span><span class="n">member_to_mutate</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39" href="#__codelineno-0-39"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-0-40"><a id="__codelineno-0-40" name="__codelineno-0-40" href="#__codelineno-0-40"></a>            <span class="n">mutated_bridge</span><span class="p">[</span><span class="n">member_to_mutate</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">bridge</span><span class="p">[</span><span class="n">member_to_mutate</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">bridge</span><span class="p">[</span><span class="n">member_to_mutate</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">SIZES</span><span class="p">))</span>
</span><span id="__span-0-41"><a id="__codelineno-0-41" name="__codelineno-0-41" href="#__codelineno-0-41"></a>    <span class="n">bridge_mutation_counter</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-0-42"><a id="__codelineno-0-42" name="__codelineno-0-42" href="#__codelineno-0-42"></a>    <span class="k">return</span> <span class="n">mutated_bridge</span>
</span><span id="__span-0-43"><a id="__codelineno-0-43" name="__codelineno-0-43" href="#__codelineno-0-43"></a>
</span><span id="__span-0-44"><a id="__codelineno-0-44" name="__codelineno-0-44" href="#__codelineno-0-44"></a><span class="c1"># Function to run the evolutionary simulation</span>
</span><span id="__span-0-45"><a id="__codelineno-0-45" name="__codelineno-0-45" href="#__codelineno-0-45"></a><span class="k">def</span> <span class="nf">run_evo_sim</span><span class="p">(</span><span class="n">population_size</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">line1</span><span class="p">,</span> <span class="n">NUM_GENS</span><span class="p">):</span>
</span><span id="__span-0-46"><a id="__codelineno-0-46" name="__codelineno-0-46" href="#__codelineno-0-46"></a>    <span class="n">population</span> <span class="o">=</span> <span class="n">initialize_population</span><span class="p">(</span><span class="n">population_size</span><span class="p">)</span>
</span><span id="__span-0-47"><a id="__codelineno-0-47" name="__codelineno-0-47" href="#__codelineno-0-47"></a>    <span class="n">generation</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="__span-0-48"><a id="__codelineno-0-48" name="__codelineno-0-48" href="#__codelineno-0-48"></a>    <span class="n">highest_fitness_score_over_gen</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">NUM_GENS</span><span class="p">)</span>
</span><span id="__span-0-49"><a id="__codelineno-0-49" name="__codelineno-0-49" href="#__codelineno-0-49"></a>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="__span-0-50"><a id="__codelineno-0-50" name="__codelineno-0-50" href="#__codelineno-0-50"></a>        <span class="c1"># Evaluate the population</span>
</span><span id="__span-0-51"><a id="__codelineno-0-51" name="__codelineno-0-51" href="#__codelineno-0-51"></a>        <span class="n">fitness_scores</span> <span class="o">=</span> <span class="p">[</span><span class="n">calculate_score</span><span class="p">(</span><span class="n">bridge</span><span class="p">)</span> <span class="k">for</span> <span class="n">bridge</span> <span class="ow">in</span> <span class="n">population</span><span class="p">]</span>
</span><span id="__span-0-52"><a id="__codelineno-0-52" name="__codelineno-0-52" href="#__codelineno-0-52"></a>
</span><span id="__span-0-53"><a id="__codelineno-0-53" name="__codelineno-0-53" href="#__codelineno-0-53"></a>        <span class="c1"># Select the top 50% of the bridges</span>
</span><span id="__span-0-54"><a id="__codelineno-0-54" name="__codelineno-0-54" href="#__codelineno-0-54"></a>        <span class="n">top_bridges</span> <span class="o">=</span> <span class="p">[</span><span class="n">bridge</span> <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">bridge</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">fitness_scores</span><span class="p">,</span> <span class="n">population</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])][:</span><span class="n">population_size</span> <span class="o">//</span> <span class="mi">2</span><span class="p">]</span>
</span><span id="__span-0-55"><a id="__codelineno-0-55" name="__codelineno-0-55" href="#__codelineno-0-55"></a>        <span class="n">highest_fitness_score_over_gen</span><span class="p">[</span><span class="n">generation</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_price</span><span class="p">(</span><span class="n">top_bridges</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> 
</span><span id="__span-0-56"><a id="__codelineno-0-56" name="__codelineno-0-56" href="#__codelineno-0-56"></a>
</span><span id="__span-0-57"><a id="__codelineno-0-57" name="__codelineno-0-57" href="#__codelineno-0-57"></a>        <span class="c1"># Crossover and mutation</span>
</span><span id="__span-0-58"><a id="__codelineno-0-58" name="__codelineno-0-58" href="#__codelineno-0-58"></a>        <span class="n">new_population</span> <span class="o">=</span> <span class="n">top_bridges</span><span class="p">[:]</span>
</span><span id="__span-0-59"><a id="__codelineno-0-59" name="__codelineno-0-59" href="#__codelineno-0-59"></a>        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_population</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">population_size</span><span class="p">:</span>
</span><span id="__span-0-60"><a id="__codelineno-0-60" name="__codelineno-0-60" href="#__codelineno-0-60"></a>            <span class="n">parent1</span><span class="p">,</span> <span class="n">parent2</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">top_bridges</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="__span-0-61"><a id="__codelineno-0-61" name="__codelineno-0-61" href="#__codelineno-0-61"></a>            <span class="n">crossover_point</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">CURRENT_SETTING</span><span class="p">[</span><span class="s1">'num_members'</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-0-62"><a id="__codelineno-0-62" name="__codelineno-0-62" href="#__codelineno-0-62"></a>            <span class="n">child</span> <span class="o">=</span> <span class="n">parent1</span><span class="p">[:</span><span class="n">crossover_point</span><span class="p">]</span> <span class="o">+</span> <span class="n">parent2</span><span class="p">[</span><span class="n">crossover_point</span><span class="p">:]</span>
</span><span id="__span-0-63"><a id="__codelineno-0-63" name="__codelineno-0-63" href="#__codelineno-0-63"></a>            <span class="n">mutated_child</span> <span class="o">=</span> <span class="n">mutate</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
</span><span id="__span-0-64"><a id="__codelineno-0-64" name="__codelineno-0-64" href="#__codelineno-0-64"></a>            <span class="n">new_population</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mutated_child</span><span class="p">)</span>
</span><span id="__span-0-65"><a id="__codelineno-0-65" name="__codelineno-0-65" href="#__codelineno-0-65"></a>
</span><span id="__span-0-66"><a id="__codelineno-0-66" name="__codelineno-0-66" href="#__codelineno-0-66"></a>        <span class="n">population</span> <span class="o">=</span> <span class="n">new_population</span> 
</span><span id="__span-0-67"><a id="__codelineno-0-67" name="__codelineno-0-67" href="#__codelineno-0-67"></a>        <span class="k">global</span> <span class="n">bridge_mutation_counter</span>
</span><span id="__span-0-68"><a id="__codelineno-0-68" name="__codelineno-0-68" href="#__codelineno-0-68"></a>        <span class="n">bridge_mutation_counter</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-0-69"><a id="__codelineno-0-69" name="__codelineno-0-69" href="#__codelineno-0-69"></a>        <span class="n">generation</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-0-70"><a id="__codelineno-0-70" name="__codelineno-0-70" href="#__codelineno-0-70"></a>        <span class="k">if</span> <span class="n">generation</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-0-71"><a id="__codelineno-0-71" name="__codelineno-0-71" href="#__codelineno-0-71"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">"Generation:"</span><span class="p">,</span> <span class="n">generation</span><span class="p">,</span> <span class="s2">"| Best Score:"</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="n">fitness_scores</span><span class="p">),</span> <span class="s2">" | Price:"</span><span class="p">,[</span><span class="n">get_price</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">top_bridges</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]])</span>
</span><span id="__span-0-72"><a id="__codelineno-0-72" name="__codelineno-0-72" href="#__codelineno-0-72"></a>            <span class="n">line1</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="n">highest_fitness_score_over_gen</span><span class="p">)</span>
</span><span id="__span-0-73"><a id="__codelineno-0-73" name="__codelineno-0-73" href="#__codelineno-0-73"></a>            <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span> 
</span><span id="__span-0-74"><a id="__codelineno-0-74" name="__codelineno-0-74" href="#__codelineno-0-74"></a>            <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">flush_events</span><span class="p">()</span> 
</span><span id="__span-0-75"><a id="__codelineno-0-75" name="__codelineno-0-75" href="#__codelineno-0-75"></a>        <span class="k">if</span> <span class="n">generation</span> <span class="o">==</span> <span class="n">NUM_GENS</span><span class="p">:</span>
</span><span id="__span-0-76"><a id="__codelineno-0-76" name="__codelineno-0-76" href="#__codelineno-0-76"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">"FINAL BRIDGE"</span><span class="p">)</span>
</span><span id="__span-0-77"><a id="__codelineno-0-77" name="__codelineno-0-77" href="#__codelineno-0-77"></a>            <span class="nb">print</span><span class="p">(</span><span class="n">top_bridges</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="__span-0-78"><a id="__codelineno-0-78" name="__codelineno-0-78" href="#__codelineno-0-78"></a>            <span class="n">sc</span> <span class="o">=</span> <span class="n">calculate_score</span><span class="p">(</span><span class="n">top_bridges</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-0-79"><a id="__codelineno-0-79" name="__codelineno-0-79" href="#__codelineno-0-79"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">"SCORE:"</span><span class="p">,</span><span class="n">sc</span><span class="p">)</span>
</span><span id="__span-0-80"><a id="__codelineno-0-80" name="__codelineno-0-80" href="#__codelineno-0-80"></a>            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="sa">f</span><span class="s2">"bridge_saves/BEST_BRIDGE_fitness_</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">get_price</span><span class="p">(</span><span class="n">top_bridges</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'.'</span><span class="p">,</span><span class="s1">'-'</span><span class="p">)</span><span class="si">}</span><span class="s2">.obj"</span><span class="p">,</span> <span class="s2">"wb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
</span><span id="__span-0-81"><a id="__codelineno-0-81" name="__codelineno-0-81" href="#__codelineno-0-81"></a>                <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">top_bridges</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">file</span><span class="p">)</span>
</span><span id="__span-0-82"><a id="__codelineno-0-82" name="__codelineno-0-82" href="#__codelineno-0-82"></a>            <span class="nb">input</span><span class="p">(</span><span class="s2">"Press enter to enact the bridge:"</span><span class="p">)</span>
</span><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83" href="#__codelineno-0-83"></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84" href="#__codelineno-0-84"></a>            <span class="n">enact_bridge</span><span class="p">(</span><span class="n">top_bridges</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85" href="#__codelineno-0-85"></a>            <span class="k">break</span>
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86" href="#__codelineno-0-86"></a>
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87" href="#__codelineno-0-87"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span>
</span><span id="__span-0-88"><a id="__codelineno-0-88" name="__codelineno-0-88" href="#__codelineno-0-88"></a>    <span class="n">NUM_GENS</span> <span class="o">=</span> <span class="mi">3000</span>
</span><span id="__span-0-89"><a id="__codelineno-0-89" name="__codelineno-0-89" href="#__codelineno-0-89"></a>    <span class="n">POP_SIZE</span> <span class="o">=</span> <span class="mi">200</span>
</span><span id="__span-0-90"><a id="__codelineno-0-90" name="__codelineno-0-90" href="#__codelineno-0-90"></a>    <span class="n">plt</span><span class="o">.</span><span class="n">ion</span><span class="p">()</span> 
</span><span id="__span-0-91"><a id="__codelineno-0-91" name="__codelineno-0-91" href="#__codelineno-0-91"></a>    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span> 
</span><span id="__span-0-92"><a id="__codelineno-0-92" name="__codelineno-0-92" href="#__codelineno-0-92"></a>    <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> 
</span><span id="__span-0-93"><a id="__codelineno-0-93" name="__codelineno-0-93" href="#__codelineno-0-93"></a>    <span class="n">line1</span><span class="p">,</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">NUM_GENS</span><span class="o">+</span><span class="mi">1</span><span class="p">)),</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">NUM_GENS</span><span class="p">,</span> <span class="s1">'b-'</span><span class="p">)</span>
</span><span id="__span-0-94"><a id="__codelineno-0-94" name="__codelineno-0-94" href="#__codelineno-0-94"></a>    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">"Generation"</span><span class="p">)</span>
</span><span id="__span-0-95"><a id="__codelineno-0-95" name="__codelineno-0-95" href="#__codelineno-0-95"></a>    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">"Price ($)"</span><span class="p">)</span>
</span><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96" href="#__codelineno-0-96"></a>    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Bridge Price Over </span><span class="si">{</span><span class="n">NUM_GENS</span><span class="si">}</span><span class="s2"> Generations of </span><span class="si">{</span><span class="n">POP_SIZE</span><span class="si">}</span><span class="s2"> Bridges Each"</span><span class="p">)</span>
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97" href="#__codelineno-0-97"></a>    <span class="n">ax</span><span class="o">.</span><span class="n">get_xaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span>
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98" href="#__codelineno-0-98"></a>        <span class="n">matplt</span><span class="o">.</span><span class="n">ticker</span><span class="o">.</span><span class="n">FuncFormatter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">p</span><span class="p">:</span> <span class="nb">format</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="s1">','</span><span class="p">)))</span>
</span><span id="__span-0-99"><a id="__codelineno-0-99" name="__codelineno-0-99" href="#__codelineno-0-99"></a>    <span class="n">ax</span><span class="o">.</span><span class="n">get_yaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span>
</span><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100" href="#__codelineno-0-100"></a>        <span class="n">matplt</span><span class="o">.</span><span class="n">ticker</span><span class="o">.</span><span class="n">FuncFormatter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">p</span><span class="p">:</span> <span class="nb">format</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="s1">','</span><span class="p">)))</span>
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101" href="#__codelineno-0-101"></a>    <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">500000</span><span class="p">)</span>
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102" href="#__codelineno-0-102"></a>
</span><span id="__span-0-103"><a id="__codelineno-0-103" name="__codelineno-0-103" href="#__codelineno-0-103"></a>    <span class="c1"># Running the algorithm</span>
</span><span id="__span-0-104"><a id="__codelineno-0-104" name="__codelineno-0-104" href="#__codelineno-0-104"></a>    <span class="n">run_evo_sim</span><span class="p">(</span><span class="n">POP_SIZE</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span><span class="n">line1</span><span class="p">,</span> <span class="n">NUM_GENS</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="configuring-the-shape">Configuring the Shape</h3>
<p>The simulation is designed to find the optimal combination of member materials, sizes, and shapes, but not design the overall structure of the bridge. I have already configured one bridge shape (you can download a bridge of this shape <a href="../../assets/zips/bridge-designer/bridge-designer-result.zip">here</a>).</p>
<p>To add a new shape to the simulation, you must generate the <code>minimums_csv</code> file and <code>strength_data</code> files, as well as add the bridge to <code>bridge_settings.py</code>. Click <a href="#storing-maximum-member-loads">here</a> to find the detailed instructions of collecting strength data, and click <a href="#bridge-settings">here</a> to find the detailed instructions of how to modify the settings file.</p>
<h4 id="storing-maximum-member-loads">Storing Maximum Member Loads</h4>
<p><code>get_all_strengths.py</code> tests all setting combinations for a bridge member of a given length and records the maximum load that member can sustain. This file relies on opening <code>Google Sheets</code> and the West Point Bridge Designer software. Also, coordinates that fit the computer's screen layout must be collected in <code>get_pos.py</code> and entered before running. Since the maximum load varies slightly as the settings of other bridge members change, I implemented a factor of safety of 1% in <a href="#bridge-utilities"><code>bridge_utilities.py</code></a>.</p>
<p>To run this file, first open a new Google Sheet. In West Point Bridge Designer, go to <code>Report &gt; Load Test Results</code> for any bridge of the same shape as your design. Copy the spreadsheet and paste it into Google Sheets. Adjust the row widths until both the cell you pasted the spreadsheet into and the compression strength and tension strength columns of the member you are testing are visible. Use <a href="#record-screen-position"><code>get_pos.py</code></a> to find the coordinates of each of these cells on the screen, and record them in the variables <code>excel_comp</code>, <code>excel_ten</code>, and <code>excel_pst</code>. Also change the name of the output file (which you will enter into <code>bridge_settings.py</code>). If any of the other coordinate variables do not match your screen size, adjust them as well. Then run this file, quickly open the Google Sheet, then West Point Bridge Designer (the code uses <code>alt+tab</code> to navigate between the pages). To not move the mouse or click anything until the data collection has finished. To emergency stop, move the mouse to the top left side of the screen.</p>
<p><em>get_all_strengths.py</em></p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kn">import</span> <span class="nn">read_text</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="kn">import</span> <span class="nn">pyautogui</span> <span class="k">as</span> <span class="nn">pg</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="n">Tk</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="kn">import</span> <span class="nn">pickle</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="c1"># three seconds after starting program to open google sheets, then West Point Bridge Designer (so that alt+tab goes between the pages)</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="k">class</span> <span class="nc">BridgeMember</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">mouse_pos</span><span class="p">,</span> <span class="n">material_option_pos</span><span class="p">,</span> <span class="n">num_material_options</span><span class="p">,</span> <span class="n">type_option_pos</span><span class="p">,</span> <span class="n">num_type_options</span><span class="p">,</span> <span class="n">size_option_pos</span><span class="p">,</span> <span class="n">num_size_options</span><span class="p">):</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_pos</span> <span class="o">=</span> <span class="n">mouse_pos</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">material</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_type</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">num_material_options</span> <span class="o">=</span> <span class="n">num_material_options</span>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">num_type_options</span> <span class="o">=</span> <span class="n">num_type_options</span>
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">num_size_options</span> <span class="o">=</span> <span class="n">num_size_options</span>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">material_option_pos</span> <span class="o">=</span> <span class="n">material_option_pos</span>
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">type_option_pos</span> <span class="o">=</span> <span class="n">type_option_pos</span>
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">size_option_pos</span> <span class="o">=</span> <span class="n">size_option_pos</span>
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a>
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a>    <span class="k">def</span> <span class="nf">set_material</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">material</span><span class="p">):</span>
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">material</span> <span class="o">=</span> <span class="n">material</span>
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a>
</span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a>    <span class="k">def</span> <span class="nf">set_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_type</span><span class="p">):</span>
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_type</span> <span class="o">=</span> <span class="n">_type</span>
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a>
</span><span id="__span-1-30"><a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a>    <span class="k">def</span> <span class="nf">set_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">):</span>
</span><span id="__span-1-31"><a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
</span><span id="__span-1-32"><a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a>
</span><span id="__span-1-33"><a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a>    <span class="k">def</span> <span class="nf">enact_member</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
</span><span id="__span-1-34"><a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a>
</span><span id="__span-1-35"><a id="__codelineno-1-35" name="__codelineno-1-35" href="#__codelineno-1-35"></a>        <span class="n">f</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">material_option_pos</span><span class="p">)</span>
</span><span id="__span-1-36"><a id="__codelineno-1-36" name="__codelineno-1-36" href="#__codelineno-1-36"></a>        <span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="__span-1-37"><a id="__codelineno-1-37" name="__codelineno-1-37" href="#__codelineno-1-37"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"up"</span><span class="p">,</span> <span class="n">presses</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">num_material_options</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</span><span id="__span-1-38"><a id="__codelineno-1-38" name="__codelineno-1-38" href="#__codelineno-1-38"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"down"</span><span class="p">,</span> <span class="n">presses</span><span class="o">=</span><span class="n">m</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</span><span id="__span-1-39"><a id="__codelineno-1-39" name="__codelineno-1-39" href="#__codelineno-1-39"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"enter"</span><span class="p">)</span>
</span><span id="__span-1-40"><a id="__codelineno-1-40" name="__codelineno-1-40" href="#__codelineno-1-40"></a>
</span><span id="__span-1-41"><a id="__codelineno-1-41" name="__codelineno-1-41" href="#__codelineno-1-41"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"tab"</span><span class="p">)</span>
</span><span id="__span-1-42"><a id="__codelineno-1-42" name="__codelineno-1-42" href="#__codelineno-1-42"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"up"</span><span class="p">,</span> <span class="n">presses</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">num_type_options</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</span><span id="__span-1-43"><a id="__codelineno-1-43" name="__codelineno-1-43" href="#__codelineno-1-43"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"down"</span><span class="p">,</span> <span class="n">presses</span><span class="o">=</span><span class="n">t</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</span><span id="__span-1-44"><a id="__codelineno-1-44" name="__codelineno-1-44" href="#__codelineno-1-44"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"enter"</span><span class="p">)</span>
</span><span id="__span-1-45"><a id="__codelineno-1-45" name="__codelineno-1-45" href="#__codelineno-1-45"></a>
</span><span id="__span-1-46"><a id="__codelineno-1-46" name="__codelineno-1-46" href="#__codelineno-1-46"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"tab"</span><span class="p">)</span>
</span><span id="__span-1-47"><a id="__codelineno-1-47" name="__codelineno-1-47" href="#__codelineno-1-47"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"up"</span><span class="p">,</span> <span class="n">presses</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">num_size_options</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</span><span id="__span-1-48"><a id="__codelineno-1-48" name="__codelineno-1-48" href="#__codelineno-1-48"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"down"</span><span class="p">,</span> <span class="n">presses</span><span class="o">=</span><span class="n">s</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</span><span id="__span-1-49"><a id="__codelineno-1-49" name="__codelineno-1-49" href="#__codelineno-1-49"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"enter"</span><span class="p">)</span>
</span><span id="__span-1-50"><a id="__codelineno-1-50" name="__codelineno-1-50" href="#__codelineno-1-50"></a>
</span><span id="__span-1-51"><a id="__codelineno-1-51" name="__codelineno-1-51" href="#__codelineno-1-51"></a><span class="c1"># use get_pos.py to find these coordinates</span>
</span><span id="__span-1-52"><a id="__codelineno-1-52" name="__codelineno-1-52" href="#__codelineno-1-52"></a><span class="n">excel_comp</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1095</span><span class="p">,</span><span class="mi">1195</span><span class="p">)</span> <span class="c1"># compression strength cell in Google Sheet</span>
</span><span id="__span-1-53"><a id="__codelineno-1-53" name="__codelineno-1-53" href="#__codelineno-1-53"></a><span class="n">excel_ten</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1545</span><span class="p">,</span><span class="mi">1191</span><span class="p">)</span> <span class="c1"># tension strength cell in Google Sheet</span>
</span><span id="__span-1-54"><a id="__codelineno-1-54" name="__codelineno-1-54" href="#__codelineno-1-54"></a><span class="n">excel_pst</span> <span class="o">=</span> <span class="p">(</span><span class="mi">129</span><span class="p">,</span><span class="mi">447</span><span class="p">)</span> <span class="c1"># cell where to paste in Google Sheet</span>
</span><span id="__span-1-55"><a id="__codelineno-1-55" name="__codelineno-1-55" href="#__codelineno-1-55"></a><span class="n">copy_to_clipboard</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1320</span><span class="p">,</span><span class="mi">940</span><span class="p">)</span> <span class="c1"># coordinates of copy to clipboard button in `Report &gt; Load Test Results` in West Point Bridge Designer</span>
</span><span id="__span-1-56"><a id="__codelineno-1-56" name="__codelineno-1-56" href="#__codelineno-1-56"></a><span class="n">TEST_POS</span> <span class="o">=</span> <span class="p">[</span><span class="mi">174</span><span class="p">,</span> <span class="mi">80</span><span class="p">]</span> <span class="c1"># coordinates of the run simulation test button in West Point Bridge Designer</span>
</span><span id="__span-1-57"><a id="__codelineno-1-57" name="__codelineno-1-57" href="#__codelineno-1-57"></a><span class="n">STOP_TEST_POS</span> <span class="o">=</span> <span class="p">[</span><span class="mi">146</span><span class="p">,</span> <span class="mi">78</span><span class="p">]</span> <span class="c1"># coordinates of the stop simulation test button in West Point Bridge Designer</span>
</span><span id="__span-1-58"><a id="__codelineno-1-58" name="__codelineno-1-58" href="#__codelineno-1-58"></a><span class="n">report_tab</span> <span class="o">=</span> <span class="p">(</span><span class="mi">238</span><span class="p">,</span><span class="mi">47</span><span class="p">)</span> <span class="c1"># coordinates of the `Report` tab in West Point Bridge Designer</span>
</span><span id="__span-1-59"><a id="__codelineno-1-59" name="__codelineno-1-59" href="#__codelineno-1-59"></a><span class="n">report_but</span> <span class="o">=</span> <span class="p">(</span><span class="mi">254</span><span class="p">,</span><span class="mi">101</span><span class="p">)</span> <span class="c1"># coordinates of the `Load Test Results` button in West Point Bridge Designer </span>
</span><span id="__span-1-60"><a id="__codelineno-1-60" name="__codelineno-1-60" href="#__codelineno-1-60"></a><span class="n">close</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1535</span><span class="p">,</span><span class="mi">942</span><span class="p">)</span> <span class="c1"># coordinates of the close button of the popup in West Point Bridge Designer</span>
</span><span id="__span-1-61"><a id="__codelineno-1-61" name="__codelineno-1-61" href="#__codelineno-1-61"></a><span class="n">bar</span> <span class="o">=</span> <span class="p">(</span><span class="mi">846</span><span class="p">,</span><span class="mi">399</span><span class="p">)</span> <span class="c1"># coordinates of the bridge member being tested in West Point Bridge Designer</span>
</span><span id="__span-1-62"><a id="__codelineno-1-62" name="__codelineno-1-62" href="#__codelineno-1-62"></a>
</span><span id="__span-1-63"><a id="__codelineno-1-63" name="__codelineno-1-63" href="#__codelineno-1-63"></a><span class="n">MATERIAL_POS</span> <span class="o">=</span> <span class="p">[</span><span class="mi">186</span><span class="p">,</span> <span class="mi">121</span><span class="p">]</span> <span class="c1"># position of material selection dropdown for a bridge member in West Point Bridge Designer</span>
</span><span id="__span-1-64"><a id="__codelineno-1-64" name="__codelineno-1-64" href="#__codelineno-1-64"></a>
</span><span id="__span-1-65"><a id="__codelineno-1-65" name="__codelineno-1-65" href="#__codelineno-1-65"></a><span class="c1"># click</span>
</span><span id="__span-1-66"><a id="__codelineno-1-66" name="__codelineno-1-66" href="#__codelineno-1-66"></a><span class="k">def</span> <span class="nf">click_pos</span><span class="p">(</span><span class="n">p</span><span class="p">):</span>
</span><span id="__span-1-67"><a id="__codelineno-1-67" name="__codelineno-1-67" href="#__codelineno-1-67"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">moveTo</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="mf">0.2</span><span class="p">)</span>
</span><span id="__span-1-68"><a id="__codelineno-1-68" name="__codelineno-1-68" href="#__codelineno-1-68"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
</span><span id="__span-1-69"><a id="__codelineno-1-69" name="__codelineno-1-69" href="#__codelineno-1-69"></a>
</span><span id="__span-1-70"><a id="__codelineno-1-70" name="__codelineno-1-70" href="#__codelineno-1-70"></a><span class="c1"># copy</span>
</span><span id="__span-1-71"><a id="__codelineno-1-71" name="__codelineno-1-71" href="#__codelineno-1-71"></a><span class="k">def</span> <span class="nf">c</span><span class="p">():</span>
</span><span id="__span-1-72"><a id="__codelineno-1-72" name="__codelineno-1-72" href="#__codelineno-1-72"></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">Tk</span><span class="p">()</span><span class="o">.</span><span class="n">clipboard_get</span><span class="p">()</span>
</span><span id="__span-1-73"><a id="__codelineno-1-73" name="__codelineno-1-73" href="#__codelineno-1-73"></a>    <span class="k">return</span> <span class="n">data</span>
</span><span id="__span-1-74"><a id="__codelineno-1-74" name="__codelineno-1-74" href="#__codelineno-1-74"></a>
</span><span id="__span-1-75"><a id="__codelineno-1-75" name="__codelineno-1-75" href="#__codelineno-1-75"></a><span class="c1"># transfer the bridge data into excel</span>
</span><span id="__span-1-76"><a id="__codelineno-1-76" name="__codelineno-1-76" href="#__codelineno-1-76"></a><span class="k">def</span> <span class="nf">do_bridge</span><span class="p">():</span>
</span><span id="__span-1-77"><a id="__codelineno-1-77" name="__codelineno-1-77" href="#__codelineno-1-77"></a>    <span class="n">click_pos</span><span class="p">(</span><span class="n">STOP_TEST_POS</span><span class="p">)</span>
</span><span id="__span-1-78"><a id="__codelineno-1-78" name="__codelineno-1-78" href="#__codelineno-1-78"></a>    <span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
</span><span id="__span-1-79"><a id="__codelineno-1-79" name="__codelineno-1-79" href="#__codelineno-1-79"></a>    <span class="n">click_pos</span><span class="p">(</span><span class="n">report_tab</span><span class="p">)</span>
</span><span id="__span-1-80"><a id="__codelineno-1-80" name="__codelineno-1-80" href="#__codelineno-1-80"></a>    <span class="n">click_pos</span><span class="p">(</span><span class="n">report_but</span><span class="p">)</span>
</span><span id="__span-1-81"><a id="__codelineno-1-81" name="__codelineno-1-81" href="#__codelineno-1-81"></a>    <span class="n">click_pos</span><span class="p">(</span><span class="n">copy_to_clipboard</span><span class="p">)</span>
</span><span id="__span-1-82"><a id="__codelineno-1-82" name="__codelineno-1-82" href="#__codelineno-1-82"></a>    <span class="n">click_pos</span><span class="p">(</span><span class="n">close</span><span class="p">)</span>
</span><span id="__span-1-83"><a id="__codelineno-1-83" name="__codelineno-1-83" href="#__codelineno-1-83"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">keyDown</span><span class="p">(</span><span class="s2">"alt"</span><span class="p">)</span>
</span><span id="__span-1-84"><a id="__codelineno-1-84" name="__codelineno-1-84" href="#__codelineno-1-84"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"tab"</span><span class="p">)</span>
</span><span id="__span-1-85"><a id="__codelineno-1-85" name="__codelineno-1-85" href="#__codelineno-1-85"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">keyUp</span><span class="p">(</span><span class="s2">"alt"</span><span class="p">)</span>
</span><span id="__span-1-86"><a id="__codelineno-1-86" name="__codelineno-1-86" href="#__codelineno-1-86"></a>    <span class="n">click_pos</span><span class="p">(</span><span class="n">excel_pst</span><span class="p">)</span>
</span><span id="__span-1-87"><a id="__codelineno-1-87" name="__codelineno-1-87" href="#__codelineno-1-87"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">keyDown</span><span class="p">(</span><span class="s2">"ctrl"</span><span class="p">)</span>
</span><span id="__span-1-88"><a id="__codelineno-1-88" name="__codelineno-1-88" href="#__codelineno-1-88"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"v"</span><span class="p">)</span>
</span><span id="__span-1-89"><a id="__codelineno-1-89" name="__codelineno-1-89" href="#__codelineno-1-89"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">keyUp</span><span class="p">(</span><span class="s2">"ctrl"</span><span class="p">)</span>
</span><span id="__span-1-90"><a id="__codelineno-1-90" name="__codelineno-1-90" href="#__codelineno-1-90"></a>    <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-1-91"><a id="__codelineno-1-91" name="__codelineno-1-91" href="#__codelineno-1-91"></a>    <span class="n">click_pos</span><span class="p">(</span><span class="n">excel_ten</span><span class="p">)</span>
</span><span id="__span-1-92"><a id="__codelineno-1-92" name="__codelineno-1-92" href="#__codelineno-1-92"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">keyDown</span><span class="p">(</span><span class="s2">"ctrl"</span><span class="p">)</span>
</span><span id="__span-1-93"><a id="__codelineno-1-93" name="__codelineno-1-93" href="#__codelineno-1-93"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"c"</span><span class="p">)</span>
</span><span id="__span-1-94"><a id="__codelineno-1-94" name="__codelineno-1-94" href="#__codelineno-1-94"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">keyUp</span><span class="p">(</span><span class="s2">"ctrl"</span><span class="p">)</span>
</span><span id="__span-1-95"><a id="__codelineno-1-95" name="__codelineno-1-95" href="#__codelineno-1-95"></a>    <span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
</span><span id="__span-1-96"><a id="__codelineno-1-96" name="__codelineno-1-96" href="#__codelineno-1-96"></a>    <span class="n">ten</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">c</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</span><span id="__span-1-97"><a id="__codelineno-1-97" name="__codelineno-1-97" href="#__codelineno-1-97"></a>    <span class="n">click_pos</span><span class="p">(</span><span class="n">excel_comp</span><span class="p">)</span>
</span><span id="__span-1-98"><a id="__codelineno-1-98" name="__codelineno-1-98" href="#__codelineno-1-98"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">keyDown</span><span class="p">(</span><span class="s2">"ctrl"</span><span class="p">)</span>
</span><span id="__span-1-99"><a id="__codelineno-1-99" name="__codelineno-1-99" href="#__codelineno-1-99"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"c"</span><span class="p">)</span>
</span><span id="__span-1-100"><a id="__codelineno-1-100" name="__codelineno-1-100" href="#__codelineno-1-100"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">keyUp</span><span class="p">(</span><span class="s2">"ctrl"</span><span class="p">)</span>
</span><span id="__span-1-101"><a id="__codelineno-1-101" name="__codelineno-1-101" href="#__codelineno-1-101"></a>    <span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
</span><span id="__span-1-102"><a id="__codelineno-1-102" name="__codelineno-1-102" href="#__codelineno-1-102"></a>    <span class="n">com</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">c</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</span><span id="__span-1-103"><a id="__codelineno-1-103" name="__codelineno-1-103" href="#__codelineno-1-103"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">keyDown</span><span class="p">(</span><span class="s2">"alt"</span><span class="p">)</span>
</span><span id="__span-1-104"><a id="__codelineno-1-104" name="__codelineno-1-104" href="#__codelineno-1-104"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"tab"</span><span class="p">)</span>
</span><span id="__span-1-105"><a id="__codelineno-1-105" name="__codelineno-1-105" href="#__codelineno-1-105"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">keyUp</span><span class="p">(</span><span class="s2">"alt"</span><span class="p">)</span>
</span><span id="__span-1-106"><a id="__codelineno-1-106" name="__codelineno-1-106" href="#__codelineno-1-106"></a>    <span class="k">return</span><span class="p">(</span><span class="n">com</span><span class="p">,</span><span class="n">ten</span><span class="p">)</span>
</span><span id="__span-1-107"><a id="__codelineno-1-107" name="__codelineno-1-107" href="#__codelineno-1-107"></a>
</span><span id="__span-1-108"><a id="__codelineno-1-108" name="__codelineno-1-108" href="#__codelineno-1-108"></a><span class="c1"># all settings options</span>
</span><span id="__span-1-109"><a id="__codelineno-1-109" name="__codelineno-1-109" href="#__codelineno-1-109"></a><span class="n">SIZES</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">30</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">35</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">40</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">45</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">50</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">55</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">60</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">65</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">70</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">75</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">80</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">90</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">100</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">110</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">120</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">130</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">140</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">150</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">160</span><span class="p">,</span><span class="mi">8</span><span class="p">),(</span><span class="mi">170</span><span class="p">,</span><span class="mi">8</span><span class="p">),(</span><span class="mi">180</span><span class="p">,</span><span class="mi">9</span><span class="p">),(</span><span class="mi">190</span><span class="p">,</span><span class="mi">9</span><span class="p">),(</span><span class="mi">200</span><span class="p">,</span><span class="mi">10</span><span class="p">),(</span><span class="mi">220</span><span class="p">,</span><span class="mi">11</span><span class="p">),(</span><span class="mi">240</span><span class="p">,</span><span class="mi">12</span><span class="p">),(</span><span class="mi">260</span><span class="p">,</span><span class="mi">13</span><span class="p">),(</span><span class="mi">280</span><span class="p">,</span><span class="mi">14</span><span class="p">),(</span><span class="mi">300</span><span class="p">,</span><span class="mi">15</span><span class="p">),(</span><span class="mi">320</span><span class="p">,</span><span class="mi">16</span><span class="p">),(</span><span class="mi">340</span><span class="p">,</span><span class="mi">17</span><span class="p">),(</span><span class="mi">360</span><span class="p">,</span><span class="mi">18</span><span class="p">),(</span><span class="mi">400</span><span class="p">,</span><span class="mi">20</span><span class="p">),(</span><span class="mi">500</span><span class="p">,</span><span class="mi">25</span><span class="p">)]</span>
</span><span id="__span-1-110"><a id="__codelineno-1-110" name="__codelineno-1-110" href="#__codelineno-1-110"></a><span class="n">MATERIALS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"CS"</span><span class="p">,</span> <span class="s2">"HSS"</span><span class="p">,</span> <span class="s2">"QTS"</span><span class="p">]</span>
</span><span id="__span-1-111"><a id="__codelineno-1-111" name="__codelineno-1-111" href="#__codelineno-1-111"></a><span class="n">TYPES</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"Bar"</span><span class="p">,</span> <span class="s2">"Tube"</span><span class="p">]</span>
</span><span id="__span-1-112"><a id="__codelineno-1-112" name="__codelineno-1-112" href="#__codelineno-1-112"></a>
</span><span id="__span-1-113"><a id="__codelineno-1-113" name="__codelineno-1-113" href="#__codelineno-1-113"></a><span class="c1"># boxes if the bridge fails the "slenderness test" and gets a store of zero (edge case)</span>
</span><span id="__span-1-114"><a id="__codelineno-1-114" name="__codelineno-1-114" href="#__codelineno-1-114"></a><span class="n">CLOSE_BOX</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'top'</span><span class="p">:</span> <span class="mi">830</span><span class="p">,</span> <span class="s1">'left'</span><span class="p">:</span> <span class="mi">1251</span><span class="p">,</span> <span class="s1">'width'</span><span class="p">:</span> <span class="mi">1306</span><span class="o">-</span><span class="mi">1251</span><span class="p">,</span> <span class="s1">'height'</span><span class="p">:</span> <span class="mi">841</span><span class="o">-</span><span class="mi">826</span><span class="p">}</span>
</span><span id="__span-1-115"><a id="__codelineno-1-115" name="__codelineno-1-115" href="#__codelineno-1-115"></a><span class="n">SLENDERNESS_BOX</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'top'</span><span class="p">:</span> <span class="mi">449</span><span class="p">,</span> <span class="s1">'left'</span><span class="p">:</span> <span class="mi">833</span><span class="p">,</span> <span class="s1">'width'</span><span class="p">:</span> <span class="mi">1321</span><span class="o">-</span><span class="mi">833</span><span class="p">,</span> <span class="s1">'height'</span><span class="p">:</span> <span class="mi">485</span><span class="o">-</span><span class="mi">449</span><span class="p">}</span>
</span><span id="__span-1-116"><a id="__codelineno-1-116" name="__codelineno-1-116" href="#__codelineno-1-116"></a>
</span><span id="__span-1-117"><a id="__codelineno-1-117" name="__codelineno-1-117" href="#__codelineno-1-117"></a><span class="n">DATA</span> <span class="o">=</span> <span class="p">[[[]]]</span>
</span><span id="__span-1-118"><a id="__codelineno-1-118" name="__codelineno-1-118" href="#__codelineno-1-118"></a><span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">m</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">MATERIALS</span><span class="p">):</span>
</span><span id="__span-1-119"><a id="__codelineno-1-119" name="__codelineno-1-119" href="#__codelineno-1-119"></a>    <span class="k">for</span> <span class="n">j</span><span class="p">,</span><span class="n">t</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">TYPES</span><span class="p">):</span>
</span><span id="__span-1-120"><a id="__codelineno-1-120" name="__codelineno-1-120" href="#__codelineno-1-120"></a>        <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">s</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">SIZES</span><span class="p">):</span>
</span><span id="__span-1-121"><a id="__codelineno-1-121" name="__codelineno-1-121" href="#__codelineno-1-121"></a>            <span class="n">b</span> <span class="o">=</span> <span class="n">BridgeMember</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">MATERIAL_POS</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">SIZES</span><span class="p">))</span>
</span><span id="__span-1-122"><a id="__codelineno-1-122" name="__codelineno-1-122" href="#__codelineno-1-122"></a>            <span class="n">DATA</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</span><span id="__span-1-123"><a id="__codelineno-1-123" name="__codelineno-1-123" href="#__codelineno-1-123"></a>            <span class="n">click_pos</span><span class="p">(</span><span class="n">bar</span><span class="p">)</span>
</span><span id="__span-1-124"><a id="__codelineno-1-124" name="__codelineno-1-124" href="#__codelineno-1-124"></a>            <span class="n">b</span><span class="o">.</span><span class="n">enact_member</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">)</span>
</span><span id="__span-1-125"><a id="__codelineno-1-125" name="__codelineno-1-125" href="#__codelineno-1-125"></a>            <span class="n">click_pos</span><span class="p">(</span><span class="n">TEST_POS</span><span class="p">)</span>
</span><span id="__span-1-126"><a id="__codelineno-1-126" name="__codelineno-1-126" href="#__codelineno-1-126"></a>            <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-1-127"><a id="__codelineno-1-127" name="__codelineno-1-127" href="#__codelineno-1-127"></a>            <span class="nb">print</span><span class="p">(</span><span class="n">read_text</span><span class="o">.</span><span class="n">scan_text</span><span class="p">(</span><span class="n">SLENDERNESS_BOX</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</span><span id="__span-1-128"><a id="__codelineno-1-128" name="__codelineno-1-128" href="#__codelineno-1-128"></a>            <span class="n">slenderness_failed</span> <span class="o">=</span> <span class="n">read_text</span><span class="o">.</span><span class="n">scan_text</span><span class="p">(</span><span class="n">SLENDERNESS_BOX</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">"a member fails the slenderness test."</span><span class="p">,</span><span class="s2">"a mambhar faile tha clandarnacc tact"</span><span class="p">]</span>
</span><span id="__span-1-129"><a id="__codelineno-1-129" name="__codelineno-1-129" href="#__codelineno-1-129"></a>            <span class="k">if</span> <span class="n">slenderness_failed</span><span class="p">:</span>
</span><span id="__span-1-130"><a id="__codelineno-1-130" name="__codelineno-1-130" href="#__codelineno-1-130"></a>                <span class="n">coor</span> <span class="o">=</span> <span class="p">[</span><span class="n">CLOSE_BOX</span><span class="p">[</span><span class="s1">'left'</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">CLOSE_BOX</span><span class="p">[</span><span class="s1">'width'</span><span class="p">]</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">CLOSE_BOX</span><span class="p">[</span><span class="s1">'top'</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">CLOSE_BOX</span><span class="p">[</span><span class="s1">'height'</span><span class="p">]</span><span class="o">/</span><span class="mi">2</span><span class="p">)]</span>
</span><span id="__span-1-131"><a id="__codelineno-1-131" name="__codelineno-1-131" href="#__codelineno-1-131"></a>                <span class="n">click_pos</span><span class="p">(</span><span class="n">coor</span><span class="p">)</span>
</span><span id="__span-1-132"><a id="__codelineno-1-132" name="__codelineno-1-132" href="#__codelineno-1-132"></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="__span-1-133"><a id="__codelineno-1-133" name="__codelineno-1-133" href="#__codelineno-1-133"></a>                <span class="n">DATA</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">do_bridge</span><span class="p">()</span>
</span><span id="__span-1-134"><a id="__codelineno-1-134" name="__codelineno-1-134" href="#__codelineno-1-134"></a>        <span class="n">DATA</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
</span><span id="__span-1-135"><a id="__codelineno-1-135" name="__codelineno-1-135" href="#__codelineno-1-135"></a>    <span class="n">DATA</span><span class="o">.</span><span class="n">append</span><span class="p">([[]])</span>
</span><span id="__span-1-136"><a id="__codelineno-1-136" name="__codelineno-1-136" href="#__codelineno-1-136"></a>
</span><span id="__span-1-137"><a id="__codelineno-1-137" name="__codelineno-1-137" href="#__codelineno-1-137"></a><span class="c1"># store the data in a pickled file - the name of the file is arbitrary</span>
</span><span id="__span-1-138"><a id="__codelineno-1-138" name="__codelineno-1-138" href="#__codelineno-1-138"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"MEMBER_2_24.obj"</span><span class="p">,</span> <span class="s2">"wb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
</span><span id="__span-1-139"><a id="__codelineno-1-139" name="__codelineno-1-139" href="#__codelineno-1-139"></a>    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">DATA</span><span class="p">,</span><span class="n">file</span><span class="p">)</span>
</span></code></pre></div>
<h4 id="bridge-utilities">Bridge Utilities</h4>
<p><code>bridge_utilities.py</code> contains several helper functions and constants for mutating bridges, calculating price and fitness, and entering a bridge into the West Point Bridge Designer software.</p>
<p><em>bridge_utilities.py</em></p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="kn">import</span> <span class="nn">math</span><span class="o">,</span> <span class="nn">pickle</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="kn">from</span> <span class="nn">bridge_settings</span> <span class="kn">import</span> <span class="n">CURRENT_SETTING</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="kn">from</span> <span class="nn">bridge_class</span> <span class="kn">import</span> <span class="n">Bridge</span><span class="p">,</span> <span class="n">MATERIAL_POS</span><span class="p">,</span> <span class="n">NUM_MEMBER_MATERIAL_OPTIONS</span><span class="p">,</span> <span class="n">TYPE_POS</span><span class="p">,</span> <span class="n">NUM_MEMBER_TYPE_OPTIONS</span><span class="p">,</span> <span class="n">SIZE_POS</span><span class="p">,</span> <span class="n">NUM_MEMBER_WIDTH_OPTIONS</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="kn">from</span> <span class="nn">bridge_settings</span> <span class="kn">import</span> <span class="n">CURRENT_SETTING</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="n">SIZES</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">30</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">35</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">40</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">45</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">50</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">55</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">60</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">65</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">70</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">75</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">80</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">90</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">100</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">110</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">120</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">130</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">140</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">150</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">160</span><span class="p">,</span><span class="mi">8</span><span class="p">),(</span><span class="mi">170</span><span class="p">,</span><span class="mi">8</span><span class="p">),(</span><span class="mi">180</span><span class="p">,</span><span class="mi">9</span><span class="p">),(</span><span class="mi">190</span><span class="p">,</span><span class="mi">9</span><span class="p">),(</span><span class="mi">200</span><span class="p">,</span><span class="mi">10</span><span class="p">),(</span><span class="mi">220</span><span class="p">,</span><span class="mi">11</span><span class="p">),(</span><span class="mi">240</span><span class="p">,</span><span class="mi">12</span><span class="p">),(</span><span class="mi">260</span><span class="p">,</span><span class="mi">13</span><span class="p">),(</span><span class="mi">280</span><span class="p">,</span><span class="mi">14</span><span class="p">),(</span><span class="mi">300</span><span class="p">,</span><span class="mi">15</span><span class="p">),(</span><span class="mi">320</span><span class="p">,</span><span class="mi">16</span><span class="p">),(</span><span class="mi">340</span><span class="p">,</span><span class="mi">17</span><span class="p">),(</span><span class="mi">360</span><span class="p">,</span><span class="mi">18</span><span class="p">),(</span><span class="mi">400</span><span class="p">,</span><span class="mi">20</span><span class="p">),(</span><span class="mi">500</span><span class="p">,</span><span class="mi">25</span><span class="p">)]</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="n">MATERIALS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"CS"</span><span class="p">,</span> <span class="s2">"HSS"</span><span class="p">,</span> <span class="s2">"QTS"</span><span class="p">]</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="n">TYPES</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"Bar"</span><span class="p">,</span> <span class="s2">"Tube"</span><span class="p">]</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="n">csv</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">CURRENT_SETTING</span><span class="p">[</span><span class="s1">'minimums_csv'</span><span class="p">],</span> <span class="n">index_col</span><span class="o">=</span><span class="s2">"#"</span><span class="p">)</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="c1"># load forces spreadsheet collected from Bridge Designer</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="n">compression_force</span> <span class="o">=</span> <span class="n">csv</span><span class="p">[</span><span class="s1">'Compression Force'</span><span class="p">]</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="n">tension_force</span> <span class="o">=</span> <span class="n">csv</span><span class="p">[</span><span class="s1">'Tension Force'</span><span class="p">]</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="c1"># return load * Factor of Safety</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="k">def</span> <span class="nf">get_load</span><span class="p">(</span><span class="n">member_id</span><span class="p">):</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a>    <span class="k">return</span> <span class="p">(</span><span class="n">compression_force</span><span class="p">[</span><span class="n">member_id</span><span class="p">]</span><span class="o">*</span><span class="mf">1.01</span><span class="p">,</span> <span class="n">tension_force</span><span class="p">[</span><span class="n">member_id</span><span class="p">]</span><span class="o">*</span><span class="mf">1.01</span><span class="p">)</span>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a>
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="c1"># get cross section area of a member</span>
</span><span id="__span-2-23"><a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a><span class="k">def</span> <span class="nf">get_cross_section_area</span><span class="p">(</span><span class="n">member</span><span class="p">):</span>
</span><span id="__span-2-24"><a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a>    <span class="n">s</span> <span class="o">=</span> <span class="n">member</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mi">1000</span>
</span><span id="__span-2-25"><a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a>    <span class="n">inn</span> <span class="o">=</span> <span class="n">member</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="mi">1000</span>
</span><span id="__span-2-26"><a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a>
</span><span id="__span-2-27"><a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a>    <span class="k">if</span> <span class="n">member</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Bar"</span><span class="p">:</span>
</span><span id="__span-2-28"><a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a>        <span class="k">return</span> <span class="n">s</span><span class="o">**</span><span class="mi">2</span>
</span><span id="__span-2-29"><a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="__span-2-30"><a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a>        <span class="k">return</span> <span class="p">(</span><span class="n">s</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="p">((</span><span class="n">s</span> <span class="o">-</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">inn</span><span class="p">))</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="__span-2-31"><a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a>
</span><span id="__span-2-32"><a id="__codelineno-2-32" name="__codelineno-2-32" href="#__codelineno-2-32"></a><span class="c1"># return member length</span>
</span><span id="__span-2-33"><a id="__codelineno-2-33" name="__codelineno-2-33" href="#__codelineno-2-33"></a><span class="k">def</span> <span class="nf">get_mem_length</span><span class="p">(</span><span class="n">m_id</span><span class="p">):</span>
</span><span id="__span-2-34"><a id="__codelineno-2-34" name="__codelineno-2-34" href="#__codelineno-2-34"></a>    <span class="k">return</span> <span class="n">CURRENT_SETTING</span><span class="p">[</span><span class="s1">'strength_data'</span><span class="p">](</span><span class="n">m_id</span><span class="p">,</span><span class="n">MEMBER_DATA</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="__span-2-35"><a id="__codelineno-2-35" name="__codelineno-2-35" href="#__codelineno-2-35"></a>
</span><span id="__span-2-36"><a id="__codelineno-2-36" name="__codelineno-2-36" href="#__codelineno-2-36"></a><span class="c1"># load member data</span>
</span><span id="__span-2-37"><a id="__codelineno-2-37" name="__codelineno-2-37" href="#__codelineno-2-37"></a><span class="n">MEMBER_DATA</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-2-38"><a id="__codelineno-2-38" name="__codelineno-2-38" href="#__codelineno-2-38"></a><span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">CURRENT_SETTING</span><span class="p">[</span><span class="s1">'strength_data_files'</span><span class="p">]:</span>
</span><span id="__span-2-39"><a id="__codelineno-2-39" name="__codelineno-2-39" href="#__codelineno-2-39"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="s1">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
</span><span id="__span-2-40"><a id="__codelineno-2-40" name="__codelineno-2-40" href="#__codelineno-2-40"></a>        <span class="n">MEMBER_DATA</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">))</span>
</span><span id="__span-2-41"><a id="__codelineno-2-41" name="__codelineno-2-41" href="#__codelineno-2-41"></a>
</span><span id="__span-2-42"><a id="__codelineno-2-42" name="__codelineno-2-42" href="#__codelineno-2-42"></a><span class="c1"># get maximum load for a member</span>
</span><span id="__span-2-43"><a id="__codelineno-2-43" name="__codelineno-2-43" href="#__codelineno-2-43"></a><span class="k">def</span> <span class="nf">get_maximum_load</span><span class="p">(</span><span class="n">member</span><span class="p">,</span> <span class="n">m_id</span><span class="p">):</span>
</span><span id="__span-2-44"><a id="__codelineno-2-44" name="__codelineno-2-44" href="#__codelineno-2-44"></a>    <span class="n">sizes_index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</span><span id="__span-2-45"><a id="__codelineno-2-45" name="__codelineno-2-45" href="#__codelineno-2-45"></a>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">size</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">SIZES</span><span class="p">):</span>
</span><span id="__span-2-46"><a id="__codelineno-2-46" name="__codelineno-2-46" href="#__codelineno-2-46"></a>        <span class="k">if</span> <span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">member</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">member</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]:</span>
</span><span id="__span-2-47"><a id="__codelineno-2-47" name="__codelineno-2-47" href="#__codelineno-2-47"></a>            <span class="n">sizes_index</span> <span class="o">=</span> <span class="n">i</span>
</span><span id="__span-2-48"><a id="__codelineno-2-48" name="__codelineno-2-48" href="#__codelineno-2-48"></a>            <span class="k">break</span>
</span><span id="__span-2-49"><a id="__codelineno-2-49" name="__codelineno-2-49" href="#__codelineno-2-49"></a>    <span class="k">return</span> <span class="n">CURRENT_SETTING</span><span class="p">[</span><span class="s1">'strength_data'</span><span class="p">](</span><span class="n">m_id</span><span class="p">,</span><span class="n">MEMBER_DATA</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="n">MATERIALS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="mi">0</span><span class="p">])][</span><span class="n">TYPES</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="mi">1</span><span class="p">])][</span><span class="n">sizes_index</span><span class="p">]</span>
</span><span id="__span-2-50"><a id="__codelineno-2-50" name="__codelineno-2-50" href="#__codelineno-2-50"></a>
</span><span id="__span-2-51"><a id="__codelineno-2-51" name="__codelineno-2-51" href="#__codelineno-2-51"></a><span class="c1"># calculate bridge price</span>
</span><span id="__span-2-52"><a id="__codelineno-2-52" name="__codelineno-2-52" href="#__codelineno-2-52"></a><span class="k">def</span> <span class="nf">get_price</span><span class="p">(</span><span class="n">bridge</span><span class="p">):</span>
</span><span id="__span-2-53"><a id="__codelineno-2-53" name="__codelineno-2-53" href="#__codelineno-2-53"></a>    <span class="n">num_unique_types</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-2-54"><a id="__codelineno-2-54" name="__codelineno-2-54" href="#__codelineno-2-54"></a>    <span class="n">uniques</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-2-55"><a id="__codelineno-2-55" name="__codelineno-2-55" href="#__codelineno-2-55"></a>    <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">bridge</span><span class="p">:</span>
</span><span id="__span-2-56"><a id="__codelineno-2-56" name="__codelineno-2-56" href="#__codelineno-2-56"></a>        <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">uniques</span><span class="p">:</span>
</span><span id="__span-2-57"><a id="__codelineno-2-57" name="__codelineno-2-57" href="#__codelineno-2-57"></a>            <span class="k">if</span> <span class="n">u</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">member</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">u</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">member</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">u</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">member</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
</span><span id="__span-2-58"><a id="__codelineno-2-58" name="__codelineno-2-58" href="#__codelineno-2-58"></a>                <span class="k">break</span>
</span><span id="__span-2-59"><a id="__codelineno-2-59" name="__codelineno-2-59" href="#__codelineno-2-59"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-2-60"><a id="__codelineno-2-60" name="__codelineno-2-60" href="#__codelineno-2-60"></a>            <span class="n">uniques</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">member</span><span class="p">)</span>
</span><span id="__span-2-61"><a id="__codelineno-2-61" name="__codelineno-2-61" href="#__codelineno-2-61"></a>    <span class="n">num_unique_types</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">uniques</span><span class="p">)</span>
</span><span id="__span-2-62"><a id="__codelineno-2-62" name="__codelineno-2-62" href="#__codelineno-2-62"></a>    <span class="n">total_cost</span> <span class="o">=</span> <span class="n">CURRENT_SETTING</span><span class="p">[</span><span class="s1">'fixed_cost'</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1000</span><span class="o">*</span><span class="n">num_unique_types</span><span class="p">)</span>
</span><span id="__span-2-63"><a id="__codelineno-2-63" name="__codelineno-2-63" href="#__codelineno-2-63"></a>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">member</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">bridge</span><span class="p">):</span>
</span><span id="__span-2-64"><a id="__codelineno-2-64" name="__codelineno-2-64" href="#__codelineno-2-64"></a>        <span class="n">kgs</span> <span class="o">=</span> <span class="p">(</span><span class="mi">7850</span> <span class="o">*</span> <span class="n">get_cross_section_area</span><span class="p">(</span><span class="n">member</span><span class="p">)</span><span class="o">*</span><span class="n">get_mem_length</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
</span><span id="__span-2-65"><a id="__codelineno-2-65" name="__codelineno-2-65" href="#__codelineno-2-65"></a>        <span class="k">if</span> <span class="n">member</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Bar"</span><span class="p">:</span>
</span><span id="__span-2-66"><a id="__codelineno-2-66" name="__codelineno-2-66" href="#__codelineno-2-66"></a>            <span class="n">total_cost</span> <span class="o">+=</span> <span class="p">[</span><span class="mf">4.3</span><span class="p">,</span><span class="mf">5.6</span><span class="p">,</span><span class="mi">6</span><span class="p">][</span><span class="n">MATERIALS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="mi">0</span><span class="p">])]</span> <span class="o">*</span> <span class="n">kgs</span> <span class="o">*</span> <span class="mi">2</span>
</span><span id="__span-2-67"><a id="__codelineno-2-67" name="__codelineno-2-67" href="#__codelineno-2-67"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-2-68"><a id="__codelineno-2-68" name="__codelineno-2-68" href="#__codelineno-2-68"></a>            <span class="n">total_cost</span> <span class="o">+=</span> <span class="p">[</span><span class="mf">6.3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mf">7.7</span><span class="p">][</span><span class="n">MATERIALS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">member</span><span class="p">[</span><span class="mi">0</span><span class="p">])]</span> <span class="o">*</span> <span class="n">kgs</span> <span class="o">*</span> <span class="mi">2</span>
</span><span id="__span-2-69"><a id="__codelineno-2-69" name="__codelineno-2-69" href="#__codelineno-2-69"></a>    <span class="k">return</span> <span class="n">total_cost</span>
</span><span id="__span-2-70"><a id="__codelineno-2-70" name="__codelineno-2-70" href="#__codelineno-2-70"></a>
</span><span id="__span-2-71"><a id="__codelineno-2-71" name="__codelineno-2-71" href="#__codelineno-2-71"></a><span class="c1"># calculate bridge score</span>
</span><span id="__span-2-72"><a id="__codelineno-2-72" name="__codelineno-2-72" href="#__codelineno-2-72"></a><span class="k">def</span> <span class="nf">calculate_score</span><span class="p">(</span><span class="n">bridge</span><span class="p">,</span><span class="n">log</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span> <span class="c1"># [(materials, types, sizes), ...]</span>
</span><span id="__span-2-73"><a id="__codelineno-2-73" name="__codelineno-2-73" href="#__codelineno-2-73"></a>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">member</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">bridge</span><span class="p">):</span>
</span><span id="__span-2-74"><a id="__codelineno-2-74" name="__codelineno-2-74" href="#__codelineno-2-74"></a>        <span class="n">minimum_loads</span> <span class="o">=</span> <span class="n">get_load</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-2-75"><a id="__codelineno-2-75" name="__codelineno-2-75" href="#__codelineno-2-75"></a>        <span class="n">maximum_loads</span> <span class="o">=</span> <span class="n">get_maximum_load</span><span class="p">(</span><span class="n">member</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-2-76"><a id="__codelineno-2-76" name="__codelineno-2-76" href="#__codelineno-2-76"></a>        <span class="k">if</span> <span class="n">log</span><span class="p">:</span>
</span><span id="__span-2-77"><a id="__codelineno-2-77" name="__codelineno-2-77" href="#__codelineno-2-77"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">"MIN"</span><span class="p">,</span> <span class="n">minimum_loads</span><span class="p">,</span> <span class="s2">"MAX"</span><span class="p">,</span> <span class="n">maximum_loads</span><span class="p">)</span>
</span><span id="__span-2-78"><a id="__codelineno-2-78" name="__codelineno-2-78" href="#__codelineno-2-78"></a>            <span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="__span-2-79"><a id="__codelineno-2-79" name="__codelineno-2-79" href="#__codelineno-2-79"></a>        <span class="c1"># score 0 if bridge failed</span>
</span><span id="__span-2-80"><a id="__codelineno-2-80" name="__codelineno-2-80" href="#__codelineno-2-80"></a>        <span class="k">if</span> <span class="n">maximum_loads</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-2-81"><a id="__codelineno-2-81" name="__codelineno-2-81" href="#__codelineno-2-81"></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="__span-2-82"><a id="__codelineno-2-82" name="__codelineno-2-82" href="#__codelineno-2-82"></a>        <span class="k">if</span> <span class="n">minimum_loads</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">maximum_loads</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">or</span> <span class="n">minimum_loads</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">maximum_loads</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
</span><span id="__span-2-83"><a id="__codelineno-2-83" name="__codelineno-2-83" href="#__codelineno-2-83"></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="__span-2-84"><a id="__codelineno-2-84" name="__codelineno-2-84" href="#__codelineno-2-84"></a>    <span class="k">return</span> <span class="mi">1</span><span class="o">/</span><span class="n">get_price</span><span class="p">(</span><span class="n">bridge</span><span class="p">)</span> <span class="c1"># lower price = higher score</span>
</span><span id="__span-2-85"><a id="__codelineno-2-85" name="__codelineno-2-85" href="#__codelineno-2-85"></a>
</span><span id="__span-2-86"><a id="__codelineno-2-86" name="__codelineno-2-86" href="#__codelineno-2-86"></a><span class="c1"># put bridge into Bridge Designer program</span>
</span><span id="__span-2-87"><a id="__codelineno-2-87" name="__codelineno-2-87" href="#__codelineno-2-87"></a><span class="k">def</span> <span class="nf">enact_bridge</span><span class="p">(</span><span class="n">bridge_</span><span class="p">):</span>
</span><span id="__span-2-88"><a id="__codelineno-2-88" name="__codelineno-2-88" href="#__codelineno-2-88"></a>    <span class="n">bridge</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">bridge_</span><span class="p">]</span>
</span><span id="__span-2-89"><a id="__codelineno-2-89" name="__codelineno-2-89" href="#__codelineno-2-89"></a>    <span class="n">b</span> <span class="o">=</span> <span class="n">Bridge</span><span class="p">(</span><span class="n">CURRENT_SETTING</span><span class="p">[</span><span class="s1">'num_members'</span><span class="p">],</span> <span class="n">MATERIAL_POS</span><span class="p">,</span> <span class="n">NUM_MEMBER_MATERIAL_OPTIONS</span><span class="p">,</span> <span class="n">TYPE_POS</span><span class="p">,</span> <span class="n">NUM_MEMBER_TYPE_OPTIONS</span><span class="p">,</span> <span class="n">SIZE_POS</span><span class="p">,</span> <span class="n">NUM_MEMBER_WIDTH_OPTIONS</span><span class="p">)</span>
</span><span id="__span-2-90"><a id="__codelineno-2-90" name="__codelineno-2-90" href="#__codelineno-2-90"></a>    <span class="n">_bridge</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-2-91"><a id="__codelineno-2-91" name="__codelineno-2-91" href="#__codelineno-2-91"></a>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">member</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">bridge</span><span class="p">):</span>
</span><span id="__span-2-92"><a id="__codelineno-2-92" name="__codelineno-2-92" href="#__codelineno-2-92"></a>        <span class="n">sizes_index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</span><span id="__span-2-93"><a id="__codelineno-2-93" name="__codelineno-2-93" href="#__codelineno-2-93"></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">size</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">SIZES</span><span class="p">):</span>
</span><span id="__span-2-94"><a id="__codelineno-2-94" name="__codelineno-2-94" href="#__codelineno-2-94"></a>            <span class="k">if</span> <span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">member</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">member</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]:</span>
</span><span id="__span-2-95"><a id="__codelineno-2-95" name="__codelineno-2-95" href="#__codelineno-2-95"></a>                <span class="n">sizes_index</span> <span class="o">=</span> <span class="n">i</span>
</span><span id="__span-2-96"><a id="__codelineno-2-96" name="__codelineno-2-96" href="#__codelineno-2-96"></a>                <span class="k">break</span>
</span><span id="__span-2-97"><a id="__codelineno-2-97" name="__codelineno-2-97" href="#__codelineno-2-97"></a>        <span class="n">_bridge</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">member</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">member</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">member</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">sizes_index</span><span class="p">))</span>
</span><span id="__span-2-98"><a id="__codelineno-2-98" name="__codelineno-2-98" href="#__codelineno-2-98"></a>    <span class="n">b</span><span class="o">.</span><span class="n">initialize_members</span><span class="p">(</span><span class="n">member_list</span><span class="o">=</span><span class="p">[(</span><span class="n">MATERIALS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">TYPES</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">_bridge</span><span class="p">])</span>
</span><span id="__span-2-99"><a id="__codelineno-2-99" name="__codelineno-2-99" href="#__codelineno-2-99"></a>    <span class="n">b</span><span class="o">.</span><span class="n">enact_members</span><span class="p">()</span>
</span></code></pre></div>
<h4 id="bridge-settings">Bridge Settings</h4>
<p><code>bridge_settings.py</code> is where a new bridge shape can be input for testing.</p>
<p>To add a bridge shape, define a dictionary and a new function. The dictionary must contain <code>num_members</code> (the number of bridge members in the design), <code>minimums_csv</code> (the load each member is required to sustain), <code>strength_data_files</code> (a tuple of the filenames generated in <a href="#storing-maximum-member-loads"><code>get_all_strengths.py</code></a>), <code>strength_data</code> (a reference to the new function you defined), and <code>fixed_cost</code> (the fixed cost of the bridge, can be found from <code>Report &gt; Cost Calculations</code> -- the simulation will be functional no matter this number, but the price on the graph may not reflect the actual price).</p>
<p>The function must take two parameters, the first being the member id, and the second being an array of the file contents of the <code>strength_data_files</code>. The function should return the item of <code>strength_data_files</code> that corresponds to the length of the member. For example, if in my bridge design member #5 is 4m long, and when I ran <code>get_all_strengths.py</code> for a 4m member I saved it as <code>my_strength.obj</code> and made <code>"my_strength.obj"</code> it the first item in <code>strength_data_files</code>, the function <code>f(member_id, strength_array)</code> should return <code>strength_array[0]</code>.</p>
<p>To generate the <code>maximums_csv</code> for your design, copy <code>Report &gt; Load Test Results</code> for any bridge of your shape into excel. Format the file the same as below. Here's an example of what the first three lines should look like. You can use the same format CSV as the <code>INITIALIZED_BRIDGE</code>.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>#,Material Type,Cross Section,Size (mm),Length (m),Compression Force,Compression Strength,Compression Status,Tension Force,Tension Strength,Tension Status
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>1,QTS,Hollow Tube,120x120x6,3.61,1437.39,648.22,Fail,0,1260.61,OK
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>2,QTS,Hollow Tube,120x120x6,3.16,1440.27,746.38,Fail,0,1260.61,OK
</span></code></pre></div>
<p>Save the file as a CSV in the same directory as the code.</p>
<p><em>bridge_settings.py</em></p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1"># Bridge Shape 1</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="k">def</span> <span class="nf">bridge_shape_1_sort_members</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">d</span><span class="p">):</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>    <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">10</span><span class="p">]:</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>        <span class="k">return</span> <span class="n">d</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>    <span class="k">elif</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="mi">37</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">41</span><span class="p">]:</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>        <span class="k">return</span> <span class="n">d</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    <span class="k">elif</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">]:</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>        <span class="k">return</span> <span class="n">d</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>    <span class="k">elif</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="o">+</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">23</span><span class="p">)):</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>        <span class="k">return</span> <span class="n">d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>    <span class="k">elif</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">42</span><span class="p">]:</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>        <span class="k">return</span> <span class="n">d</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>    <span class="k">elif</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">28</span><span class="p">,</span><span class="mi">32</span><span class="p">))</span><span class="o">+</span><span class="p">[</span><span class="mi">38</span><span class="p">,</span><span class="mi">39</span><span class="p">]:</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>        <span class="k">return</span> <span class="n">d</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>        <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="n">bridge_shape_1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'num_members'</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span> <span class="s1">'minimums_csv'</span><span class="p">:</span><span class="s1">'minimums.csv'</span><span class="p">,</span>
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>                              <span class="s1">'strength_data_files'</span><span class="p">:(</span><span class="s1">'MEMBER_4.obj'</span><span class="p">,</span><span class="s1">'MEMBER_4_47.obj'</span><span class="p">,</span> <span class="s1">'MEMBER_2_24.obj'</span><span class="p">,</span>
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a>                                                     <span class="s1">'MEMBER_3_16.obj'</span><span class="p">,</span> <span class="s1">'MEMBER_3_61.obj'</span><span class="p">,</span> <span class="s1">'MEMBER_4_12.obj'</span><span class="p">),</span>
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a>                                <span class="s1">'strength_data'</span><span class="p">:</span><span class="n">bridge_shape_1_sort_members</span><span class="p">,</span>
</span><span id="__span-4-22"><a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a>                                <span class="s1">'fixed_cost'</span><span class="p">:</span><span class="mi">51700</span><span class="o">+</span><span class="mi">9000</span><span class="o">+</span><span class="mi">41800</span><span class="o">+</span><span class="mi">18400</span><span class="p">}</span>
</span><span id="__span-4-23"><a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a>
</span><span id="__span-4-24"><a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a><span class="c1"># chosen bridge shape</span>
</span><span id="__span-4-25"><a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a><span class="n">CURRENT_SETTING</span> <span class="o">=</span> <span class="n">bridge_shape_1</span>
</span><span id="__span-4-26"><a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a>
</span><span id="__span-4-27"><a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a><span class="c1"># this is where you can specify a starting bridge instead of beginning from random, for example, "BRIDGE_DETAIL_NEW.csv". `None` means start from scratch.</span>
</span><span id="__span-4-28"><a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a><span class="n">INITIALIZED_BRIDGE</span> <span class="o">=</span> <span class="kc">None</span> 
</span></code></pre></div>
<h4 id="bridge-class">Bridge Class</h4>
<p><code>bridge_class.py</code> contains the <code>Bridge</code> class which controls entering a bridge into the West Point Bridge Designer software after the simulation has been run.</p>
<p><em>bridge_class.py</em></p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kn">import</span> <span class="nn">pyautogui</span> <span class="k">as</span> <span class="nn">pg</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">random</span><span class="p">,</span> <span class="n">randint</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="kn">from</span> <span class="nn">bridge_settings</span> <span class="kn">import</span> <span class="n">CURRENT_SETTING</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="c1"># coordinates and settings for Bridge Builder 2016</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="n">TYPE_POS</span> <span class="o">=</span> <span class="p">[</span><span class="mi">385</span><span class="p">,</span> <span class="mi">125</span><span class="p">]</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="n">MATERIAL_POS</span> <span class="o">=</span> <span class="p">[</span><span class="mi">186</span><span class="p">,</span> <span class="mi">121</span><span class="p">]</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="n">SIZE_POS</span> <span class="o">=</span> <span class="p">[</span><span class="mi">508</span><span class="p">,</span> <span class="mi">122</span><span class="p">]</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="n">TEST_POS</span> <span class="o">=</span> <span class="p">[</span><span class="mi">174</span><span class="p">,</span> <span class="mi">80</span><span class="p">]</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="n">STOP_TEST_POS</span> <span class="o">=</span> <span class="p">[</span><span class="mi">146</span><span class="p">,</span> <span class="mi">78</span><span class="p">]</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="n">NUM_MEMBER_WIDTH_OPTIONS</span> <span class="o">=</span> <span class="mi">33</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="n">NUM_MEMBER_TYPE_OPTIONS</span> <span class="o">=</span> <span class="mi">2</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="n">NUM_MEMBER_MATERIAL_OPTIONS</span> <span class="o">=</span> <span class="mi">3</span>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a><span class="c1"># move mouse</span>
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a><span class="n">current_mouse_pos</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a><span class="k">def</span> <span class="nf">move_to</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>    <span class="k">global</span> <span class="n">current_mouse_pos</span>
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a>    <span class="k">if</span> <span class="n">current_mouse_pos</span> <span class="o">==</span> <span class="n">pos</span><span class="p">:</span> <span class="k">return</span>
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a>    <span class="n">current_mouse_pos</span> <span class="o">=</span> <span class="n">pos</span>
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">moveTo</span><span class="p">(</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mf">0.2</span><span class="p">)</span>
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a>
</span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a><span class="c1"># click from touple</span>
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a><span class="k">def</span> <span class="nf">click</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
</span><span id="__span-5-27"><a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="__span-5-28"><a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a>
</span><span id="__span-5-29"><a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a><span class="c1"># brige member - used in Bridge class below</span>
</span><span id="__span-5-30"><a id="__codelineno-5-30" name="__codelineno-5-30" href="#__codelineno-5-30"></a><span class="k">class</span> <span class="nc">BridgeMember</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="__span-5-31"><a id="__codelineno-5-31" name="__codelineno-5-31" href="#__codelineno-5-31"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">material_option_pos</span><span class="p">,</span> <span class="n">num_material_options</span><span class="p">,</span> <span class="n">type_option_pos</span><span class="p">,</span> <span class="n">num_type_options</span><span class="p">,</span> <span class="n">size_option_pos</span><span class="p">,</span> <span class="n">num_size_options</span><span class="p">):</span>
</span><span id="__span-5-32"><a id="__codelineno-5-32" name="__codelineno-5-32" href="#__codelineno-5-32"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
</span><span id="__span-5-33"><a id="__codelineno-5-33" name="__codelineno-5-33" href="#__codelineno-5-33"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">material</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-5-34"><a id="__codelineno-5-34" name="__codelineno-5-34" href="#__codelineno-5-34"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-5-35"><a id="__codelineno-5-35" name="__codelineno-5-35" href="#__codelineno-5-35"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_type</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-5-36"><a id="__codelineno-5-36" name="__codelineno-5-36" href="#__codelineno-5-36"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">num_material_options</span> <span class="o">=</span> <span class="n">num_material_options</span>
</span><span id="__span-5-37"><a id="__codelineno-5-37" name="__codelineno-5-37" href="#__codelineno-5-37"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">num_type_options</span> <span class="o">=</span> <span class="n">num_type_options</span>
</span><span id="__span-5-38"><a id="__codelineno-5-38" name="__codelineno-5-38" href="#__codelineno-5-38"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">num_size_options</span> <span class="o">=</span> <span class="n">num_size_options</span>
</span><span id="__span-5-39"><a id="__codelineno-5-39" name="__codelineno-5-39" href="#__codelineno-5-39"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">material_option_pos</span> <span class="o">=</span> <span class="n">material_option_pos</span>
</span><span id="__span-5-40"><a id="__codelineno-5-40" name="__codelineno-5-40" href="#__codelineno-5-40"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">type_option_pos</span> <span class="o">=</span> <span class="n">type_option_pos</span>
</span><span id="__span-5-41"><a id="__codelineno-5-41" name="__codelineno-5-41" href="#__codelineno-5-41"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">size_option_pos</span> <span class="o">=</span> <span class="n">size_option_pos</span>
</span><span id="__span-5-42"><a id="__codelineno-5-42" name="__codelineno-5-42" href="#__codelineno-5-42"></a>
</span><span id="__span-5-43"><a id="__codelineno-5-43" name="__codelineno-5-43" href="#__codelineno-5-43"></a>    <span class="k">def</span> <span class="nf">set_material</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">material</span><span class="p">):</span>
</span><span id="__span-5-44"><a id="__codelineno-5-44" name="__codelineno-5-44" href="#__codelineno-5-44"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">material</span> <span class="o">=</span> <span class="n">material</span>
</span><span id="__span-5-45"><a id="__codelineno-5-45" name="__codelineno-5-45" href="#__codelineno-5-45"></a>
</span><span id="__span-5-46"><a id="__codelineno-5-46" name="__codelineno-5-46" href="#__codelineno-5-46"></a>    <span class="k">def</span> <span class="nf">set_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_type</span><span class="p">):</span>
</span><span id="__span-5-47"><a id="__codelineno-5-47" name="__codelineno-5-47" href="#__codelineno-5-47"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_type</span> <span class="o">=</span> <span class="n">_type</span>
</span><span id="__span-5-48"><a id="__codelineno-5-48" name="__codelineno-5-48" href="#__codelineno-5-48"></a>
</span><span id="__span-5-49"><a id="__codelineno-5-49" name="__codelineno-5-49" href="#__codelineno-5-49"></a>    <span class="k">def</span> <span class="nf">set_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">):</span>
</span><span id="__span-5-50"><a id="__codelineno-5-50" name="__codelineno-5-50" href="#__codelineno-5-50"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
</span><span id="__span-5-51"><a id="__codelineno-5-51" name="__codelineno-5-51" href="#__codelineno-5-51"></a>
</span><span id="__span-5-52"><a id="__codelineno-5-52" name="__codelineno-5-52" href="#__codelineno-5-52"></a>    <span class="k">def</span> <span class="nf">enact_member</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-5-53"><a id="__codelineno-5-53" name="__codelineno-5-53" href="#__codelineno-5-53"></a>        <span class="n">move_to</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">material_option_pos</span><span class="p">)</span>
</span><span id="__span-5-54"><a id="__codelineno-5-54" name="__codelineno-5-54" href="#__codelineno-5-54"></a>        <span class="n">click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">material_option_pos</span><span class="p">)</span>
</span><span id="__span-5-55"><a id="__codelineno-5-55" name="__codelineno-5-55" href="#__codelineno-5-55"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"tab"</span><span class="p">,</span> <span class="n">presses</span><span class="o">=</span><span class="mi">23</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</span><span id="__span-5-56"><a id="__codelineno-5-56" name="__codelineno-5-56" href="#__codelineno-5-56"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"up"</span><span class="p">,</span> <span class="n">presses</span><span class="o">=</span><span class="n">CURRENT_SETTING</span><span class="p">[</span><span class="s1">'num_members'</span><span class="p">],</span> <span class="n">interval</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</span><span id="__span-5-57"><a id="__codelineno-5-57" name="__codelineno-5-57" href="#__codelineno-5-57"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"down"</span><span class="p">,</span> <span class="n">presses</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</span><span id="__span-5-58"><a id="__codelineno-5-58" name="__codelineno-5-58" href="#__codelineno-5-58"></a>
</span><span id="__span-5-59"><a id="__codelineno-5-59" name="__codelineno-5-59" href="#__codelineno-5-59"></a>        <span class="n">move_to</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">material_option_pos</span><span class="p">)</span>
</span><span id="__span-5-60"><a id="__codelineno-5-60" name="__codelineno-5-60" href="#__codelineno-5-60"></a>        <span class="n">click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">material_option_pos</span><span class="p">)</span>
</span><span id="__span-5-61"><a id="__codelineno-5-61" name="__codelineno-5-61" href="#__codelineno-5-61"></a>        <span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="__span-5-62"><a id="__codelineno-5-62" name="__codelineno-5-62" href="#__codelineno-5-62"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"up"</span><span class="p">,</span> <span class="n">presses</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">num_material_options</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</span><span id="__span-5-63"><a id="__codelineno-5-63" name="__codelineno-5-63" href="#__codelineno-5-63"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"down"</span><span class="p">,</span> <span class="n">presses</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</span><span id="__span-5-64"><a id="__codelineno-5-64" name="__codelineno-5-64" href="#__codelineno-5-64"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"enter"</span><span class="p">)</span>
</span><span id="__span-5-65"><a id="__codelineno-5-65" name="__codelineno-5-65" href="#__codelineno-5-65"></a>
</span><span id="__span-5-66"><a id="__codelineno-5-66" name="__codelineno-5-66" href="#__codelineno-5-66"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"tab"</span><span class="p">)</span>
</span><span id="__span-5-67"><a id="__codelineno-5-67" name="__codelineno-5-67" href="#__codelineno-5-67"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"up"</span><span class="p">,</span> <span class="n">presses</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">num_type_options</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</span><span id="__span-5-68"><a id="__codelineno-5-68" name="__codelineno-5-68" href="#__codelineno-5-68"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"down"</span><span class="p">,</span> <span class="n">presses</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_type</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</span><span id="__span-5-69"><a id="__codelineno-5-69" name="__codelineno-5-69" href="#__codelineno-5-69"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"enter"</span><span class="p">)</span>
</span><span id="__span-5-70"><a id="__codelineno-5-70" name="__codelineno-5-70" href="#__codelineno-5-70"></a>
</span><span id="__span-5-71"><a id="__codelineno-5-71" name="__codelineno-5-71" href="#__codelineno-5-71"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"tab"</span><span class="p">)</span>
</span><span id="__span-5-72"><a id="__codelineno-5-72" name="__codelineno-5-72" href="#__codelineno-5-72"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"up"</span><span class="p">,</span> <span class="n">presses</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">num_size_options</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</span><span id="__span-5-73"><a id="__codelineno-5-73" name="__codelineno-5-73" href="#__codelineno-5-73"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"down"</span><span class="p">,</span> <span class="n">presses</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</span><span id="__span-5-74"><a id="__codelineno-5-74" name="__codelineno-5-74" href="#__codelineno-5-74"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">press</span><span class="p">(</span><span class="s2">"enter"</span><span class="p">)</span>
</span><span id="__span-5-75"><a id="__codelineno-5-75" name="__codelineno-5-75" href="#__codelineno-5-75"></a>
</span><span id="__span-5-76"><a id="__codelineno-5-76" name="__codelineno-5-76" href="#__codelineno-5-76"></a>    <span class="k">def</span> <span class="nf">clamp_values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-5-77"><a id="__codelineno-5-77" name="__codelineno-5-77" href="#__codelineno-5-77"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_material</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_material_options</span><span class="p">))</span>
</span><span id="__span-5-78"><a id="__codelineno-5-78" name="__codelineno-5-78" href="#__codelineno-5-78"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_type</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_type</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_type_options</span><span class="p">))</span>
</span><span id="__span-5-79"><a id="__codelineno-5-79" name="__codelineno-5-79" href="#__codelineno-5-79"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_size</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_size_options</span><span class="p">))</span>
</span><span id="__span-5-80"><a id="__codelineno-5-80" name="__codelineno-5-80" href="#__codelineno-5-80"></a>
</span><span id="__span-5-81"><a id="__codelineno-5-81" name="__codelineno-5-81" href="#__codelineno-5-81"></a><span class="c1"># for enacting a bridge i.e. entering it into bridge designer via PyAutoGUI</span>
</span><span id="__span-5-82"><a id="__codelineno-5-82" name="__codelineno-5-82" href="#__codelineno-5-82"></a><span class="k">class</span> <span class="nc">Bridge</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="__span-5-83"><a id="__codelineno-5-83" name="__codelineno-5-83" href="#__codelineno-5-83"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_members</span><span class="p">,</span> <span class="n">material_option_pos</span><span class="p">,</span> <span class="n">num_material_options</span><span class="p">,</span> <span class="n">type_option_pos</span><span class="p">,</span> <span class="n">num_type_options</span><span class="p">,</span> <span class="n">size_option_pos</span><span class="p">,</span> <span class="n">num_size_options</span><span class="p">):</span>
</span><span id="__span-5-84"><a id="__codelineno-5-84" name="__codelineno-5-84" href="#__codelineno-5-84"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">num_members</span> <span class="o">=</span> <span class="n">num_members</span>
</span><span id="__span-5-85"><a id="__codelineno-5-85" name="__codelineno-5-85" href="#__codelineno-5-85"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">num_material_options</span> <span class="o">=</span> <span class="n">num_material_options</span>
</span><span id="__span-5-86"><a id="__codelineno-5-86" name="__codelineno-5-86" href="#__codelineno-5-86"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">num_type_options</span> <span class="o">=</span> <span class="n">num_type_options</span>
</span><span id="__span-5-87"><a id="__codelineno-5-87" name="__codelineno-5-87" href="#__codelineno-5-87"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">num_size_options</span> <span class="o">=</span> <span class="n">num_size_options</span>
</span><span id="__span-5-88"><a id="__codelineno-5-88" name="__codelineno-5-88" href="#__codelineno-5-88"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">material_option_pos</span> <span class="o">=</span> <span class="n">material_option_pos</span>
</span><span id="__span-5-89"><a id="__codelineno-5-89" name="__codelineno-5-89" href="#__codelineno-5-89"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">type_option_pos</span> <span class="o">=</span> <span class="n">type_option_pos</span>
</span><span id="__span-5-90"><a id="__codelineno-5-90" name="__codelineno-5-90" href="#__codelineno-5-90"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">size_option_pos</span> <span class="o">=</span> <span class="n">size_option_pos</span>
</span><span id="__span-5-91"><a id="__codelineno-5-91" name="__codelineno-5-91" href="#__codelineno-5-91"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">fitness</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-5-92"><a id="__codelineno-5-92" name="__codelineno-5-92" href="#__codelineno-5-92"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">bridge_members</span> <span class="o">=</span> <span class="p">[</span><span class="n">BridgeMember</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">material_option_pos</span><span class="p">,</span> <span class="n">num_material_options</span><span class="p">,</span> <span class="n">type_option_pos</span><span class="p">,</span> <span class="n">num_type_options</span><span class="p">,</span> <span class="n">size_option_pos</span><span class="p">,</span> <span class="n">num_size_options</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_members</span><span class="p">)]</span>
</span><span id="__span-5-93"><a id="__codelineno-5-93" name="__codelineno-5-93" href="#__codelineno-5-93"></a>
</span><span id="__span-5-94"><a id="__codelineno-5-94" name="__codelineno-5-94" href="#__codelineno-5-94"></a>    <span class="k">def</span> <span class="nf">initialize_members</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">old_bridge</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">member_list</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">random_func</span><span class="o">=</span><span class="k">lambda</span> <span class="n">num_opts</span><span class="p">,</span><span class="n">current_opt</span><span class="p">:</span> <span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_opts</span><span class="p">)):</span>
</span><span id="__span-5-95"><a id="__codelineno-5-95" name="__codelineno-5-95" href="#__codelineno-5-95"></a>        <span class="k">if</span> <span class="n">member_list</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-5-96"><a id="__codelineno-5-96" name="__codelineno-5-96" href="#__codelineno-5-96"></a>            <span class="k">for</span> <span class="n">member_des</span><span class="p">,</span> <span class="n">member</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">member_list</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bridge_members</span><span class="p">):</span>
</span><span id="__span-5-97"><a id="__codelineno-5-97" name="__codelineno-5-97" href="#__codelineno-5-97"></a>                <span class="n">member</span><span class="o">.</span><span class="n">set_material</span><span class="p">(</span><span class="n">member_des</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="__span-5-98"><a id="__codelineno-5-98" name="__codelineno-5-98" href="#__codelineno-5-98"></a>                <span class="n">member</span><span class="o">.</span><span class="n">set_type</span><span class="p">(</span><span class="n">member_des</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="__span-5-99"><a id="__codelineno-5-99" name="__codelineno-5-99" href="#__codelineno-5-99"></a>                <span class="n">member</span><span class="o">.</span><span class="n">set_size</span><span class="p">(</span><span class="n">member_des</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</span><span id="__span-5-100"><a id="__codelineno-5-100" name="__codelineno-5-100" href="#__codelineno-5-100"></a>                <span class="nb">print</span><span class="p">(</span><span class="n">member</span><span class="o">.</span><span class="n">material</span><span class="p">,</span><span class="n">member</span><span class="o">.</span><span class="n">_type</span><span class="p">,</span><span class="n">member</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
</span><span id="__span-5-101"><a id="__codelineno-5-101" name="__codelineno-5-101" href="#__codelineno-5-101"></a>            <span class="k">return</span>
</span><span id="__span-5-102"><a id="__codelineno-5-102" name="__codelineno-5-102" href="#__codelineno-5-102"></a>        <span class="k">if</span> <span class="n">old_bridge</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-5-103"><a id="__codelineno-5-103" name="__codelineno-5-103" href="#__codelineno-5-103"></a>            <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">bridge_members</span><span class="p">:</span>
</span><span id="__span-5-104"><a id="__codelineno-5-104" name="__codelineno-5-104" href="#__codelineno-5-104"></a>                <span class="n">member</span><span class="o">.</span><span class="n">set_material</span><span class="p">(</span><span class="n">random_func</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_material_options</span><span class="p">,</span><span class="n">member</span><span class="o">.</span><span class="n">material</span><span class="p">,</span><span class="n">member</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>
</span><span id="__span-5-105"><a id="__codelineno-5-105" name="__codelineno-5-105" href="#__codelineno-5-105"></a>                <span class="n">member</span><span class="o">.</span><span class="n">set_type</span><span class="p">(</span><span class="n">random_func</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_type_options</span><span class="p">,</span><span class="n">member</span><span class="o">.</span><span class="n">_type</span><span class="p">,</span><span class="n">member</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>
</span><span id="__span-5-106"><a id="__codelineno-5-106" name="__codelineno-5-106" href="#__codelineno-5-106"></a>                <span class="n">member</span><span class="o">.</span><span class="n">set_size</span><span class="p">(</span><span class="n">random_func</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_size_options</span><span class="p">,</span><span class="n">member</span><span class="o">.</span><span class="n">size</span><span class="p">,</span><span class="n">member</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>
</span><span id="__span-5-107"><a id="__codelineno-5-107" name="__codelineno-5-107" href="#__codelineno-5-107"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-5-108"><a id="__codelineno-5-108" name="__codelineno-5-108" href="#__codelineno-5-108"></a>            <span class="k">for</span> <span class="n">member_new</span><span class="p">,</span> <span class="n">member_old</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bridge_members</span><span class="p">,</span> <span class="n">old_bridge</span><span class="o">.</span><span class="n">bridge_members</span><span class="p">):</span>
</span><span id="__span-5-109"><a id="__codelineno-5-109" name="__codelineno-5-109" href="#__codelineno-5-109"></a>                <span class="n">member_new</span><span class="o">.</span><span class="n">set_material</span><span class="p">(</span><span class="n">member_old</span><span class="o">.</span><span class="n">material</span><span class="p">)</span>
</span><span id="__span-5-110"><a id="__codelineno-5-110" name="__codelineno-5-110" href="#__codelineno-5-110"></a>                <span class="n">member_new</span><span class="o">.</span><span class="n">set_type</span><span class="p">(</span><span class="n">member_old</span><span class="o">.</span><span class="n">_type</span><span class="p">)</span>
</span><span id="__span-5-111"><a id="__codelineno-5-111" name="__codelineno-5-111" href="#__codelineno-5-111"></a>                <span class="n">member_new</span><span class="o">.</span><span class="n">set_size</span><span class="p">(</span><span class="n">member_old</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
</span><span id="__span-5-112"><a id="__codelineno-5-112" name="__codelineno-5-112" href="#__codelineno-5-112"></a>
</span><span id="__span-5-113"><a id="__codelineno-5-113" name="__codelineno-5-113" href="#__codelineno-5-113"></a>    <span class="k">def</span> <span class="nf">enact_members</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-5-114"><a id="__codelineno-5-114" name="__codelineno-5-114" href="#__codelineno-5-114"></a>        <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">bridge_members</span><span class="p">:</span>
</span><span id="__span-5-115"><a id="__codelineno-5-115" name="__codelineno-5-115" href="#__codelineno-5-115"></a>            <span class="n">member</span><span class="o">.</span><span class="n">enact_member</span><span class="p">()</span>
</span></code></pre></div>
<h4 id="read-text">Read Text</h4>
<p><code>read_text.py</code> uses <a href="https://pypi.org/project/pytesseract/"><code>PyTesseract</code></a> to read on-screen text in screenshots collected by <a href="https://pypi.org/project/opencv-python/"><code>OpenCV</code></a>. This is used in <code>get_all_strengths.py</code> to check whether the bridge failed slenderness test popup has appeared, indicating the bridge failed to hold the weight.</p>
<p><em>read_text.py</em></p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kn">import</span> <span class="nn">time</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="kn">import</span> <span class="nn">cv2</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="kn">import</span> <span class="nn">mss</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="kn">import</span> <span class="nn">numpy</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="kn">import</span> <span class="nn">pytesseract</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="n">pytesseract</span><span class="o">.</span><span class="n">pytesseract</span><span class="o">.</span><span class="n">tesseract_cmd</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">'C:\Program Files\Tesseract-OCR\tesseract.exe'</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="k">def</span> <span class="nf">scan_text</span><span class="p">(</span><span class="n">mon</span><span class="p">):</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>    <span class="k">with</span> <span class="n">mss</span><span class="o">.</span><span class="n">mss</span><span class="p">()</span> <span class="k">as</span> <span class="n">sct</span><span class="p">:</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>        <span class="n">im</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">sct</span><span class="o">.</span><span class="n">grab</span><span class="p">(</span><span class="n">mon</span><span class="p">))</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>        <span class="n">text</span> <span class="o">=</span> <span class="n">pytesseract</span><span class="o">.</span><span class="n">image_to_string</span><span class="p">(</span><span class="n">im</span><span class="p">)</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>        <span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s1">'Image'</span><span class="p">,</span> <span class="n">im</span><span class="p">)</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>        <span class="k">if</span> <span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span> <span class="o">==</span> <span class="nb">ord</span><span class="p">(</span><span class="s1">'q'</span><span class="p">):</span>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>            <span class="n">cv2</span><span class="o">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>        <span class="k">return</span> <span class="n">text</span>
</span></code></pre></div>
<h4 id="record-screen-position">Record Screen Position</h4>
<p><code>get_pos.py</code> records the mouse position two seconds after the program is started. This is used to collect coordinates for <code>get_all_strengths.py</code> and <code>bridge_class.py</code> so that, when putting the bridge into West Point Bridge Designer or copying a spreadsheet into <code>Google Sheets</code>, the software knows where to position the mouse.</p>
<p><em>get_pos.py</em></p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kn">import</span> <span class="nn">pyautogui</span> <span class="k">as</span> <span class="nn">pg</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="kn">import</span> <span class="nn">time</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="nb">print</span><span class="p">(</span><span class="n">pg</span><span class="o">.</span><span class="n">position</span><span class="p">())</span>
</span></code></pre></div></div>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.indexes", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
    
  </body>
</html>